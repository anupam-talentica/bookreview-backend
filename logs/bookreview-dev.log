2025-08-28 11:20:12 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 61623 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 11:20:12 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 11:20:12 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 11:20:12 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 11:20:12 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 3 JPA repository interfaces.
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:20:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 11:20:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 11:20:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 11:20:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 11:20:13 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 11:20:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1094 ms
2025-08-28 11:20:13 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 11:20:13 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 11:20:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 11:20:14 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d70c1a7
2025-08-28 11:20:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 11:20:14 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 11:20:14 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 11:20:14 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 11:20:14 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 11:20:14 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : 433352156
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-08-28 11:20:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 11:20:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 11:20:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 11:20:14 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 11:20:14 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : 433352156
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : 433352156
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 21 common frames omitted
2025-08-28 11:20:51 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 62600 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 11:20:51 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 11:20:51 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 11:20:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 11:20:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:20:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 11:20:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 11:20:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 11:20:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 11:20:52 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 11:20:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 958 ms
2025-08-28 11:20:52 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 11:20:52 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 11:20:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 11:20:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@127e41e4
2025-08-28 11:20:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 11:20:52 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 11:20:52 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 11:20:52 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 11:20:52 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 11:20:53 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : -530501233
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-08-28 11:20:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 11:20:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 11:20:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 11:20:53 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 11:20:53 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : -530501233
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : -530501233
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 21 common frames omitted
2025-08-28 11:22:01 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 64258 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 11:22:01 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 11:22:01 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 11:22:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 11:22:01 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 3 JPA repository interfaces.
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:22:02 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-08-28 11:22:02 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 11:22:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 11:22:02 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 11:22:02 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 11:22:02 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 858 ms
2025-08-28 11:22:02 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 11:22:02 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 11:22:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 11:22:03 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a54cc47
2025-08-28 11:22:03 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 11:22:03 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 11:22:03 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 11:22:03 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 11:22:03 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 11:22:03 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.014s)
2025-08-28 11:22:03 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 11:22:03 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 11:22:03 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 11:22:03 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 11:22:03 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 11:22:03 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 11:22:03 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 11:22:03 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 11:22:03 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 11:22:03 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 11:22:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 11:22:04 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 11:22:04 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 11:22:04 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5cf62fae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c53ff1, org.springframework.security.web.context.SecurityContextHolderFilter@244882c7, org.springframework.security.web.header.HeaderWriterFilter@308399c7, org.springframework.web.filter.CorsFilter@17b75dd1, org.springframework.security.web.authentication.logout.LogoutFilter@154bf9d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fb8a72e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33dfb494, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f02118b, org.springframework.security.web.session.SessionManagementFilter@72c17ac1, org.springframework.security.web.access.ExceptionTranslationFilter@38563ec3, org.springframework.security.web.access.intercept.AuthorizationFilter@77328e9a]
2025-08-28 11:22:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 11:22:04 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 11:22:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 11:22:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 11:22:04 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.163 seconds (process running for 3.323)
2025-08-28 11:22:17 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 11:22:17 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3bf6d59c
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@685ae79c
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 11:22:17 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:22:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:22:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:22:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:25:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:25:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:25:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:27:21 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 11:27:21 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 11:27:21 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 11:27:21 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 11:27:21 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 64258 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 11:27:21 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 11:27:21 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 JPA repository interfaces.
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:27:21 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 11:27:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 11:27:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 11:27:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 11:27:22 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 11:27:22 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 217 ms
2025-08-28 11:27:22 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 11:27:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 11:27:22 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@8cfe379
2025-08-28 11:27:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 11:27:22 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 11:27:22 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : 532763578
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-08-28 11:27:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 11:27:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 11:27:22 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 11:27:22 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 11:27:22 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : 532763578
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347) ~[spring-boot-3.2.1.jar:3.2.1]
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.1.jar:3.2.1]
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : -1503282209
-> Resolved locally    : 532763578
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146) ~[flyway-core-9.22.3.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213) ~[flyway-core-9.22.3.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140) ~[flyway-core-9.22.3.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.2.1.jar:3.2.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769) ~[spring-beans-6.1.2.jar:6.1.2]
	... 21 common frames omitted
2025-08-28 11:42:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 93739 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 11:42:58 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 11:42:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 11:42:58 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 11:42:58 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 3 JPA repository interfaces.
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:42:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 11:42:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 11:42:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 11:42:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 11:42:59 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 11:42:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 946 ms
2025-08-28 11:42:59 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 11:42:59 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 11:42:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 11:42:59 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@43cfb3fb
2025-08-28 11:42:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 11:42:59 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 11:42:59 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 11:42:59 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 11:42:59 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 11:42:59 [restartedMain] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-08-28 11:42:59 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.010s)
2025-08-28 11:42:59 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
2025-08-28 11:42:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 11:42:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 11:42:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 11:42:59 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 11:42:59 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.flywaydb.core.api.FlywayException: Found non-empty schema(s) "public" but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:178)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 21 common frames omitted
2025-08-28 11:46:05 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 99170 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 11:46:05 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 11:46:05 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 11:46:05 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 11:46:05 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 54 ms. Found 3 JPA repository interfaces.
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:46:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 11:46:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 11:46:06 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 11:46:06 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 11:46:06 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 11:46:06 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 948 ms
2025-08-28 11:46:06 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 11:46:06 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 11:46:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 11:46:06 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1f2c82af
2025-08-28 11:46:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 11:46:07 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 11:46:07 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 11:46:07 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 11:46:07 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 11:46:07 [restartedMain] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-08-28 11:46:07 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.008s)
2025-08-28 11:46:07 [restartedMain] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" with baseline ...
2025-08-28 11:46:07 [restartedMain] INFO  o.f.core.internal.command.DbBaseline - Successfully baselined schema with version: 1
2025-08-28 11:46:07 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1
2025-08-28 11:46:07 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2 - Insert sample users"
2025-08-28 11:46:07 [restartedMain] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "2 - Insert sample users" failed! Changes successfully rolled back.
2025-08-28 11:46:07 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Insert_sample_users.sql failed
--------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERROR: relation "users" does not exist
  Position: 195
Location   : db/migration/V2__Insert_sample_users.sql (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes/db/migration/V2__Insert_sample_users.sql)
Line       : 6
Statement  : -- V2__Insert_sample_users.sql
-- Insert sample users including admin and regular users for development and testing

-- Insert Admin User
-- Password: Admin123! (hashed with BCrypt)
INSERT INTO users (email, password_hash, name, bio, email_verified, active, created_at) VALUES 
(
    'admin@bookreview.com',
    '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', -- password: password
    'System Administrator',
    'BookReview platform administrator with full system access.',
    true,
    true,
    CURRENT_TIMESTAMP - INTERVAL '30 days'
)

2025-08-28 11:46:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 11:46:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 11:46:07 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 11:46:07 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 11:46:07 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Insert_sample_users.sql failed
--------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERROR: relation "users" does not exist
  Position: 195
Location   : db/migration/V2__Insert_sample_users.sql (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes/db/migration/V2__Insert_sample_users.sql)
Line       : 6
Statement  : -- V2__Insert_sample_users.sql
-- Insert sample users including admin and regular users for development and testing

-- Insert Admin User
-- Password: Admin123! (hashed with BCrypt)
INSERT INTO users (email, password_hash, name, bio, email_verified, active, created_at) VALUES 
(
    'admin@bookreview.com',
    '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', -- password: password
    'System Administrator',
    'BookReview platform administrator with full system access.',
    true,
    true,
    CURRENT_TIMESTAMP - INTERVAL '30 days'
)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1232)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__Insert_sample_users.sql failed
--------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERROR: relation "users" does not exist
  Position: 195
Location   : db/migration/V2__Insert_sample_users.sql (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes/db/migration/V2__Insert_sample_users.sql)
Line       : 6
Statement  : -- V2__Insert_sample_users.sql
-- Insert sample users including admin and regular users for development and testing

-- Insert Admin User
-- Password: Admin123! (hashed with BCrypt)
INSERT INTO users (email, password_hash, name, bio, email_verified, active, created_at) VALUES 
(
    'admin@bookreview.com',
    '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', -- password: password
    'System Administrator',
    'BookReview platform administrator with full system access.',
    true,
    true,
    CURRENT_TIMESTAMP - INTERVAL '30 days'
)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1820)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1769)
	... 21 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__Insert_sample_users.sql failed
--------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERROR: relation "users" does not exist
  Position: 195
Location   : db/migration/V2__Insert_sample_users.sql (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes/db/migration/V2__Insert_sample_users.sql)
Line       : 6
Statement  : -- V2__Insert_sample_users.sql
-- Insert sample users including admin and regular users for development and testing

-- Insert Admin User
-- Password: Admin123! (hashed with BCrypt)
INSERT INTO users (email, password_hash, name, bio, email_verified, active, created_at) VALUES 
(
    'admin@bookreview.com',
    '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', -- password: password
    'System Administrator',
    'BookReview platform administrator with full system access.',
    true,
    true,
    CURRENT_TIMESTAMP - INTERVAL '30 days'
)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 40 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 195
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 46 common frames omitted
2025-08-28 11:48:38 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 3972 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 11:48:38 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 11:48:38 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 11:48:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 11:48:38 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 11:48:39 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 11:48:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 11:48:39 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 11:48:39 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 11:48:39 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 11:48:39 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 934 ms
2025-08-28 11:48:39 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 11:48:39 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 11:48:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 11:48:40 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5c973823
2025-08-28 11:48:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 11:48:40 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 11:48:40 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 11:48:40 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 11:48:40 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 11:48:40 [restartedMain] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.008s)
2025-08-28 11:48:40 [restartedMain] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" with baseline ...
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbBaseline - Successfully baselined schema with version: 0
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 0
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1 - Create initial schema"
2025-08-28 11:48:40 [restartedMain] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: extension "pg_trgm" already exists, skipping (SQL State: 42710 - Error Code: 0)
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2 - Insert sample users"
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "3 - Insert sample books"
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "4 - Insert sample reviews"
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "5 - Insert sample favorites"
2025-08-28 11:48:40 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 5 migrations to schema "public", now at version v5 (execution time 00:00.058s)
2025-08-28 11:48:40 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 11:48:40 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 11:48:40 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 11:48:40 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 11:48:40 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 11:48:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 11:48:40 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 11:48:41 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 11:48:41 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 11:48:41 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 11:48:41 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 11:48:41 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38df94e2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71c9cdbf, org.springframework.security.web.context.SecurityContextHolderFilter@60bbaa79, org.springframework.security.web.header.HeaderWriterFilter@4efba40a, org.springframework.web.filter.CorsFilter@40aa57ef, org.springframework.security.web.authentication.logout.LogoutFilter@1e01d634, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f79de0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2949fbdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e71b94f, org.springframework.security.web.session.SessionManagementFilter@6877b9fc, org.springframework.security.web.access.ExceptionTranslationFilter@7d75f1ae, org.springframework.security.web.access.intercept.AuthorizationFilter@5c921d1f]
2025-08-28 11:48:41 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 11:48:42 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 11:48:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 11:48:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 11:48:42 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.623 seconds (process running for 3.809)
2025-08-28 11:48:57 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 11:48:57 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@644398bf
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@77a5dc37
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 11:48:57 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:48:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:48:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:48:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:53:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:53:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:53:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/register
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/register
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/register
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#register(UserRegistrationDto)
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UserRegistrationDto{name='Anupam', email='a@b.com', bio='null'}]
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.bookreview.entity.User */insert 
    into
        users (active, avatar_url, bio, created_at, email, email_verified, name, password_hash, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data={emailVerified=false, createdAt=2025-08-28T11:54:01.864294, name=Anupam, bio=null, active=true (truncated)...]
2025-08-28 11:54:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#login(LoginDto)
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDto{email='a@b.com', rememberMe=false}]
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=? 
        and u1_0.active=?
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{type='Bearer', userId=9, name='Anupam', email='a@b.com', expiresAt=2025-08-29T11:54:01.9 (truncated)...]
2025-08-28 11:54:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 11:54:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 11:54:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 11:54:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 11:54:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 11:54:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{createdAt=2025-07-19T17:18:40.321686, reviewCount=1, author=George Orwell, coverImageUrl=https://ik (truncated)...]
2025-08-28 11:54:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=4, rating=5, reviewTextLength=162, userId=2 (truncated)...]
2025-08-28 11:54:09 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#3] - no Session]
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:54:09 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:54:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=4, rating=5, reviewTextLength=162, userId=2 (truncated)...]
2025-08-28 11:54:10 [http-nio-8080-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#3] - no Session]
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:54:10 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:54:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /books/3/reviews
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /books/3/reviews
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/books/3/reviews", parameters={}
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#createReview(Long, Map, String)
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{rating=5, reviewText=good read}]
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    WHERE
        r.user.id = :userId 
        AND r.book.id = :bookId */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id 
        from
            reviews r1_0 
        where
            r1_0.user_id=? 
            and r1_0.book_id=?
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.bookreview.entity.Review */insert 
    into
        reviews (book_id, created_at, rating, review_text, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        AVG(CAST(r.rating AS double)) 
    FROM
        Review r 
    WHERE
        r.book.id = :bookId */ select
            avg(cast(r1_0.rating as float(53))) 
        from
            reviews r1_0 
        where
            r1_0.book_id=?
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        COUNT(r) 
    FROM
        Review r 
    WHERE
        r.book.id = :bookId */ select
            count(r1_0.id) 
        from
            reviews r1_0 
        where
            r1_0.book_id=?
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* update
        for com.bookreview.entity.Book */update books 
    set
        author=?,
        average_rating=?,
        cover_image_url=?,
        description=?,
        genres=?,
        published_year=?,
        review_count=?,
        title=?,
        updated_at=? 
    where
        id=?
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, review=Review{id=34, rating=5, reviewTextLength=9, userId=9, bookId=3, createdAt=2025 (truncated)...]
2025-08-28 11:54:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 11:54:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{createdAt=2025-07-19T17:18:40.321686, reviewCount=2, author=George Orwell, coverImageUrl=https://ik (truncated)...]
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=34, rating=5, reviewTextLength=9, userId=9, (truncated)...]
2025-08-28 11:54:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:16 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#3] - no Session]
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:54:16 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:54:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=34, rating=5, reviewTextLength=9, userId=9, (truncated)...]
2025-08-28 11:54:17 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#3] - no Session]
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:54:17 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:54:17 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/reviews?page=0&size=5
2025-08-28 11:54:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/reviews?page=0&size=5
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/reviews?page=0&size=5
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18", parameters={}
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=22, rating=5, reviewTextLength=140, userId= (truncated)...]
2025-08-28 11:54:21 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#18] - no Session]
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{createdAt=2025-08-24T17:18:40.321686, reviewCount=3, author=Nicholas Sparks, coverImageUrl=https:// (truncated)...]
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:54:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:54:21 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:54:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/reviews?page=0&size=5
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/reviews?page=0&size=5
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=22, rating=5, reviewTextLength=140, userId= (truncated)...]
2025-08-28 11:54:22 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#18] - no Session]
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:54:22 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:54:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/reviews
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /books/18/reviews
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /books/18/reviews
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/books/18/reviews", parameters={}
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#createReview(Long, Map, String)
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{rating=2, reviewText=okay read}]
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    WHERE
        r.user.id = :userId 
        AND r.book.id = :bookId */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id 
        from
            reviews r1_0 
        where
            r1_0.user_id=? 
            and r1_0.book_id=?
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* insert for
        com.bookreview.entity.Review */insert 
    into
        reviews (book_id, created_at, rating, review_text, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        AVG(CAST(r.rating AS double)) 
    FROM
        Review r 
    WHERE
        r.book.id = :bookId */ select
            avg(cast(r1_0.rating as float(53))) 
        from
            reviews r1_0 
        where
            r1_0.book_id=?
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        COUNT(r) 
    FROM
        Review r 
    WHERE
        r.book.id = :bookId */ select
            count(r1_0.id) 
        from
            reviews r1_0 
        where
            r1_0.book_id=?
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* update
        for com.bookreview.entity.Book */update books 
    set
        author=?,
        average_rating=?,
        cover_image_url=?,
        description=?,
        genres=?,
        published_year=?,
        review_count=?,
        title=?,
        updated_at=? 
    where
        id=?
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, review=Review{id=35, rating=2, reviewTextLength=9, userId=9, bookId=18, createdAt=202 (truncated)...]
2025-08-28 11:54:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/reviews?page=0&size=5
2025-08-28 11:54:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/reviews?page=0&size=5
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/reviews?page=0&size=5
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18", parameters={}
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=35, rating=2, reviewTextLength=9, userId=9, (truncated)...]
2025-08-28 11:54:40 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#18] - no Session]
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:54:40 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{createdAt=2025-08-24T17:18:40.321686, reviewCount=4, author=Nicholas Sparks, coverImageUrl=https:// (truncated)...]
2025-08-28 11:54:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:54:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/reviews?page=0&size=5
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/reviews?page=0&size=5
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=35, rating=2, reviewTextLength=9, userId=9, (truncated)...]
2025-08-28 11:54:41 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#18] - no Session]
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:54:41 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:54:41 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 11:54:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 11:54:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 11:54:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:55:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 11:55:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=34, rating=5, reviewTextLength=9, userId=9, (truncated)...]
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 11:55:15 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#3] - no Session]
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:55:15 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:55:15 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{createdAt=2025-07-19T17:18:40.321686, reviewCount=2, author=George Orwell, coverImageUrl=https://ik (truncated)...]
2025-08-28 11:55:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=34, rating=5, reviewTextLength=9, userId=9, (truncated)...]
2025-08-28 11:55:16 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#3] - no Session]
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 11:55:16 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 11:55:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:45:56 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-08-28 12:45:56 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:45:56 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 12:45:56 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 12:45:56 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 3972 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:45:56 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:45:56 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 JPA repository interfaces.
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:45:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:45:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:45:56 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:45:56 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:45:56 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:45:56 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 302 ms
2025-08-28 12:45:56 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:45:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 12:45:56 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3c98a12d
2025-08-28 12:45:56 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 12:45:56 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:45:56 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.007s)
2025-08-28 12:45:56 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:45:56 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:45:56 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:45:56 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:45:56 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:45:56 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:45:56 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:45:56 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:45:56 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:45:56 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:45:57 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:45:57 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c9abcf0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58655c09, org.springframework.security.web.context.SecurityContextHolderFilter@74501e6d, org.springframework.security.web.header.HeaderWriterFilter@383d8c94, org.springframework.web.filter.CorsFilter@1ea7648c, org.springframework.security.web.authentication.logout.LogoutFilter@6c3afb3c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6042dd78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40d666ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67706e5c, org.springframework.security.web.session.SessionManagementFilter@762c4e96, org.springframework.security.web.access.ExceptionTranslationFilter@3ec1502f, org.springframework.security.web.access.intercept.AuthorizationFilter@2abc4341]
2025-08-28 12:45:57 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:45:57 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:45:57 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:45:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:45:57 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.199 seconds (process running for 3438.848)
2025-08-28 12:45:57 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:46:01 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (1 addition, 0 deletions, 1 modification)
2025-08-28 12:46:12 [Thread-7] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 12:46:12 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:46:12 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 12:46:12 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 12:46:12 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 3972 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:46:12 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:46:12 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:12 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:46:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:46:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:46:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:46:13 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:46:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 215 ms
2025-08-28 12:46:13 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:46:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-08-28 12:46:13 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@586b0408
2025-08-28 12:46:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-08-28 12:46:13 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:46:13 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 12:46:13 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:46:13 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:46:13 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:46:13 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:46:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:46:13 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:46:13 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:46:13 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:46:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:46:13 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:46:13 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:46:13 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4908e18b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c97ff10, org.springframework.security.web.context.SecurityContextHolderFilter@713ac508, org.springframework.security.web.header.HeaderWriterFilter@723f6021, org.springframework.web.filter.CorsFilter@26389826, org.springframework.security.web.authentication.logout.LogoutFilter@3a07564b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1eef8112, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4222f754, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62cebbc9, org.springframework.security.web.session.SessionManagementFilter@249ddf6e, org.springframework.security.web.access.ExceptionTranslationFilter@49e17164, org.springframework.security.web.access.intercept.AuthorizationFilter@574c9f12]
2025-08-28 12:46:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:46:13 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:46:13 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:46:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:46:13 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.962 seconds (process running for 3455.286)
2025-08-28 12:46:13 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:46:24 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-08-28 12:46:35 [Thread-11] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 12:46:35 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:46:35 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-08-28 12:46:35 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-08-28 12:46:35 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 3972 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:46:35 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:46:35 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-08-28 12:46:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:46:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:46:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:46:35 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:46:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 234 ms
2025-08-28 12:46:35 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:46:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-08-28 12:46:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@4a9115df
2025-08-28 12:46:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-08-28 12:46:35 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:46:35 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 12:46:35 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:46:35 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:46:35 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:46:35 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:46:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:46:35 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:46:35 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:46:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:46:35 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:46:36 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:46:36 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:46:36 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58f0a854, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41e84a59, org.springframework.security.web.context.SecurityContextHolderFilter@5e2a7867, org.springframework.security.web.header.HeaderWriterFilter@75bf6e0, org.springframework.web.filter.CorsFilter@3f43e899, org.springframework.security.web.authentication.logout.LogoutFilter@58eb60a0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e1f880f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69c281f6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f1d3bb5, org.springframework.security.web.session.SessionManagementFilter@f5e71b3, org.springframework.security.web.access.ExceptionTranslationFilter@4fe5b18, org.springframework.security.web.access.intercept.AuthorizationFilter@7b373809]
2025-08-28 12:46:36 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:46:36 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:46:36 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:46:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:46:36 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.03 seconds (process running for 3477.845)
2025-08-28 12:46:36 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:46:39 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 12:46:50 [Thread-15] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 12:46:50 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:46:50 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-08-28 12:46:50 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-08-28 12:46:50 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 3972 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:46:50 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:46:50 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:46:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:46:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:46:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:46:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:46:51 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:46:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 247 ms
2025-08-28 12:46:51 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:46:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-08-28 12:46:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@38d14192
2025-08-28 12:46:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-08-28 12:46:51 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:46:51 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.004s)
2025-08-28 12:46:51 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:46:51 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:46:51 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:46:51 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:46:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:46:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:46:51 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:46:51 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:46:51 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:46:51 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:46:51 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:46:51 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77907e50, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@546e93d9, org.springframework.security.web.context.SecurityContextHolderFilter@5372f52f, org.springframework.security.web.header.HeaderWriterFilter@3ea4209f, org.springframework.web.filter.CorsFilter@2ff26260, org.springframework.security.web.authentication.logout.LogoutFilter@3b213b10, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71995399, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d413148, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9b20be6, org.springframework.security.web.session.SessionManagementFilter@17449c34, org.springframework.security.web.access.ExceptionTranslationFilter@1eb4e1ee, org.springframework.security.web.access.intercept.AuthorizationFilter@13ca1755]
2025-08-28 12:46:51 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:46:51 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:46:51 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:46:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:46:51 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.066 seconds (process running for 3493.397)
2025-08-28 12:46:51 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:46:53 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 29 class path changes (0 additions, 8 deletions, 21 modifications)
2025-08-28 12:47:04 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:47:04 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-08-28 12:47:04 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-08-28 12:48:39 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 86993 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:48:39 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:48:39 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:48:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 12:48:39 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:48:40 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 12:48:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:48:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:48:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:48:40 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:48:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 808 ms
2025-08-28 12:48:40 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:48:40 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 12:48:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 12:48:40 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75841a
2025-08-28 12:48:40 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 12:48:40 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 12:48:40 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 12:48:40 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 12:48:40 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:48:40 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.013s)
2025-08-28 12:48:41 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:48:41 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:48:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:48:41 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 12:48:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:48:41 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:48:41 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:48:41 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:48:41 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:48:41 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 12:48:42 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:48:42 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:48:42 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:48:42 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a0ef7d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e5ebbe8, org.springframework.security.web.context.SecurityContextHolderFilter@7c89ef8c, org.springframework.security.web.header.HeaderWriterFilter@2a2c3152, org.springframework.web.filter.CorsFilter@7010f334, org.springframework.security.web.authentication.logout.LogoutFilter@2b4ee114, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69c46be2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c03f730, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6197b710, org.springframework.security.web.session.SessionManagementFilter@7d7487b8, org.springframework.security.web.access.ExceptionTranslationFilter@36b101da, org.springframework.security.web.access.intercept.AuthorizationFilter@516cbdfe]
2025-08-28 12:48:42 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:48:42 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:48:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:48:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:48:42 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.138 seconds (process running for 3.298)
2025-08-28 12:48:47 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 12:48:47 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 12:48:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 12:48:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 12:48:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 12:48:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3be6a66
2025-08-28 12:48:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@296398a1
2025-08-28 12:48:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 12:48:47 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-28 12:48:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:48:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 12:48:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 12:48:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@73334b24, com.bookreview.dto.ReviewDto@765a13a7], reviewCount (truncated)...]
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=34, rating=5, reviewTextLength=9, userId=9, (truncated)...]
2025-08-28 12:48:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:48:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:48:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:48:47 [http-nio-8080-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#3] - no Session]
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 12:48:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 12:48:47 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 12:48:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 12:48:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[Review{id=34, rating=5, reviewTextLength=9, userId=9, (truncated)...]
2025-08-28 12:48:48 [http-nio-8080-exec-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.Book#3] - no Session]
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?page=0&size=5
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?page=0&size=5
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error?page=0&size=5", parameters={masked}
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 12:48:48 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 12:48:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:50:05 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 12:50:06 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:06 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 12:50:06 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 12:50:06 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 86993 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:50:06 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:50:06 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 JPA repository interfaces.
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:50:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:50:06 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:50:06 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:50:06 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:50:06 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 251 ms
2025-08-28 12:50:06 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:50:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 12:50:06 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@63d40da4
2025-08-28 12:50:06 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 12:50:06 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:50:06 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 12:50:06 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:50:06 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:50:06 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:50:06 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:50:06 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:50:06 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:50:06 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:50:06 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:06 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:50:06 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:50:06 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:50:06 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1345b3eb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@97bb35f, org.springframework.security.web.context.SecurityContextHolderFilter@25ac496b, org.springframework.security.web.header.HeaderWriterFilter@8e2df4f, org.springframework.web.filter.CorsFilter@e8ccf9a, org.springframework.security.web.authentication.logout.LogoutFilter@3aa42a68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76b72ac2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13cca19f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@188ef27c, org.springframework.security.web.session.SessionManagementFilter@1088830c, org.springframework.security.web.access.ExceptionTranslationFilter@3a58ff95, org.springframework.security.web.access.intercept.AuthorizationFilter@175b3bc8]
2025-08-28 12:50:06 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:50:06 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:50:07 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:50:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:50:07 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.072 seconds (process running for 87.613)
2025-08-28 12:50:07 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:50:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-08-28 12:50:08 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:08 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 12:50:08 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 12:50:08 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 86993 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:50:08 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:50:08 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:50:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:50:08 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:50:08 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:50:08 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:50:08 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 188 ms
2025-08-28 12:50:08 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:50:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-08-28 12:50:08 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@33c1325f
2025-08-28 12:50:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-08-28 12:50:08 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:50:08 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.003s)
2025-08-28 12:50:08 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:50:08 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:50:08 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:50:08 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:50:08 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:50:08 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:50:08 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:50:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:09 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:50:09 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:50:09 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:50:09 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59c73eb8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5329c4ea, org.springframework.security.web.context.SecurityContextHolderFilter@5629a901, org.springframework.security.web.header.HeaderWriterFilter@337fddbd, org.springframework.web.filter.CorsFilter@2eb3e7e4, org.springframework.security.web.authentication.logout.LogoutFilter@4a343aa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a7a875, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47f99128, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c1d6c86, org.springframework.security.web.session.SessionManagementFilter@b52dfd5, org.springframework.security.web.access.ExceptionTranslationFilter@4569c923, org.springframework.security.web.access.intercept.AuthorizationFilter@43c093da]
2025-08-28 12:50:09 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:50:09 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:50:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:50:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:50:09 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.931 seconds (process running for 89.989)
2025-08-28 12:50:09 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:50:19 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 12:50:30 [Thread-11] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 12:50:31 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:31 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-08-28 12:50:31 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-08-28 12:50:31 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 86993 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:50:31 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:50:31 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-08-28 12:50:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:50:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:50:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:50:31 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:50:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 194 ms
2025-08-28 12:50:31 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:50:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-08-28 12:50:31 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@48eebfad
2025-08-28 12:50:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-08-28 12:50:31 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:50:31 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.007s)
2025-08-28 12:50:31 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:50:31 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:50:31 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:50:31 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:50:31 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:50:31 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:50:31 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:50:31 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:31 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:50:31 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:50:31 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:50:31 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d9f33ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ad39efd, org.springframework.security.web.context.SecurityContextHolderFilter@273c1a69, org.springframework.security.web.header.HeaderWriterFilter@1d83feec, org.springframework.web.filter.CorsFilter@32279fff, org.springframework.security.web.authentication.logout.LogoutFilter@7e505461, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f4b41d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7dc02945, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3719e329, org.springframework.security.web.session.SessionManagementFilter@7f7e6a97, org.springframework.security.web.access.ExceptionTranslationFilter@1286401f, org.springframework.security.web.access.intercept.AuthorizationFilter@40e49b33]
2025-08-28 12:50:31 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:50:31 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:50:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:50:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:50:31 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.92 seconds (process running for 112.471)
2025-08-28 12:50:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:50:33 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-08-28 12:50:44 [Thread-15] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 12:50:44 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:44 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-08-28 12:50:44 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-08-28 12:50:44 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 86993 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:50:44 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:50:44 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:50:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:50:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:50:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:50:45 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:50:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 211 ms
2025-08-28 12:50:45 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:50:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-08-28 12:50:45 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@1c4d9c9f
2025-08-28 12:50:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-08-28 12:50:45 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:50:45 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 12:50:45 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:50:45 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:50:45 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:50:45 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:50:45 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:50:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:50:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:50:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:50:45 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:50:45 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:50:45 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f5d692c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@140ff881, org.springframework.security.web.context.SecurityContextHolderFilter@36182fe8, org.springframework.security.web.header.HeaderWriterFilter@30b8f0d5, org.springframework.web.filter.CorsFilter@73d20ee9, org.springframework.security.web.authentication.logout.LogoutFilter@4d8e9e19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a4ddbfb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@491d137b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fa69462, org.springframework.security.web.session.SessionManagementFilter@4d979ddb, org.springframework.security.web.access.ExceptionTranslationFilter@7d74d103, org.springframework.security.web.access.intercept.AuthorizationFilter@46ada645]
2025-08-28 12:50:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:50:45 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:50:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:50:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:50:45 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.947 seconds (process running for 126.274)
2025-08-28 12:50:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:50:47 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 12:50:47 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:47 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-08-28 12:50:47 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-08-28 12:50:47 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 86993 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:50:47 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:50:47 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:50:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:50:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:50:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:50:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:50:47 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:50:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 194 ms
2025-08-28 12:50:47 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:50:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-08-28 12:50:47 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@7c7aa8f1
2025-08-28 12:50:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-08-28 12:50:47 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:50:47 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.007s)
2025-08-28 12:50:47 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:50:47 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:50:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:50:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:50:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:50:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:50:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:50:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:50:47 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:50:47 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:50:47 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:50:47 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f6f242, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cac9d62, org.springframework.security.web.context.SecurityContextHolderFilter@1564fc37, org.springframework.security.web.header.HeaderWriterFilter@478f32f9, org.springframework.web.filter.CorsFilter@69a6e9a3, org.springframework.security.web.authentication.logout.LogoutFilter@7846c413, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@58d3731a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54f0de5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e3c6351, org.springframework.security.web.session.SessionManagementFilter@759a4acb, org.springframework.security.web.access.ExceptionTranslationFilter@4ac2d2e5, org.springframework.security.web.access.intercept.AuthorizationFilter@10114d44]
2025-08-28 12:50:47 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:50:47 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:50:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:50:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:50:48 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.912 seconds (process running for 128.626)
2025-08-28 12:50:48 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:50:53 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 29 class path changes (0 additions, 0 deletions, 29 modifications)
2025-08-28 12:51:04 [Thread-23] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:51:04 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-08-28 12:51:04 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-08-28 12:52:53 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 94022 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:52:53 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:52:53 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:52:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 12:52:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:52:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-28 12:52:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:52:54 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:52:54 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:52:54 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:52:54 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 821 ms
2025-08-28 12:52:54 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:52:54 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 12:52:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 12:52:54 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ffd3a7d
2025-08-28 12:52:54 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 12:52:54 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 12:52:54 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 12:52:54 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 12:52:54 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:52:54 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.013s)
2025-08-28 12:52:54 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:52:54 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:52:54 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:52:54 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 12:52:54 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:52:54 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:52:54 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:52:55 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:52:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:52:55 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 12:52:55 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:52:55 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:52:55 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:52:56 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50ab7dc3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@336d10a3, org.springframework.security.web.context.SecurityContextHolderFilter@ef01dd8, org.springframework.security.web.header.HeaderWriterFilter@164b4e20, org.springframework.web.filter.CorsFilter@351d49d6, org.springframework.security.web.authentication.logout.LogoutFilter@53629528, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d2877c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3184d239, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3bb739ce, org.springframework.security.web.session.SessionManagementFilter@be9034c, org.springframework.security.web.access.ExceptionTranslationFilter@cb74171, org.springframework.security.web.access.intercept.AuthorizationFilter@666b2beb]
2025-08-28 12:52:56 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:52:56 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:52:56 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:52:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:52:56 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.118 seconds (process running for 3.28)
2025-08-28 12:52:59 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 12:52:59 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 12:52:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 12:52:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 12:52:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 12:52:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5519b5d7
2025-08-28 12:52:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@30b0b553
2025-08-28 12:52:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 12:52:59 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-28 12:52:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 12:52:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:52:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 12:52:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@4bdd71aa, com.bookreview (truncated)...]
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@d79d48a, com.bookreview.dto.ReviewDto@66bc17ae], reviewCount= (truncated)...]
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:52:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:52:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:52:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:52:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:52:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 12:52:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:53:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/my-reviews?page=0&size=10
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/my-reviews?page=0&size=10
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/my-reviews?page=0&size=10
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/my-reviews?page=0&size=10", parameters={masked}
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#getMyReviews(String, int, int)
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.book 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.user.id = :userId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            books b1_0 
                on b1_0.id=r1_0.book_id 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            u1_0.id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=10, last=true, totalPages=1, currentPage=0, content=[Review{id=35, rating=2, reviewTextLength= (truncated)...]
2025-08-28 12:53:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:54:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 5 class path changes (1 addition, 0 deletions, 4 modifications)
2025-08-28 12:54:57 [Thread-5] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 12:54:57 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:54:57 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 12:54:57 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 12:54:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 94022 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:54:58 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:54:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:54:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:54:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:54:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:54:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:54:58 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:54:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 224 ms
2025-08-28 12:54:58 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:54:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 12:54:58 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1c5a70a0
2025-08-28 12:54:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 12:54:58 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:54:58 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 12:54:58 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:54:58 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:54:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:54:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:54:58 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:54:58 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:54:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:54:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:54:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:54:58 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:54:58 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:54:58 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@373cd269, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@621b591a, org.springframework.security.web.context.SecurityContextHolderFilter@2ac8a27d, org.springframework.security.web.header.HeaderWriterFilter@1980a1cd, org.springframework.web.filter.CorsFilter@2ab26623, org.springframework.security.web.authentication.logout.LogoutFilter@40fa60d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fd23516, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69272d3f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@db59a6e, org.springframework.security.web.session.SessionManagementFilter@76a56c7, org.springframework.security.web.access.ExceptionTranslationFilter@397ebf98, org.springframework.security.web.access.intercept.AuthorizationFilter@67eb4995]
2025-08-28 12:54:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:54:58 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:54:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:54:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:54:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.982 seconds (process running for 125.892)
2025-08-28 12:54:58 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:55:00 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 12:55:00 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:55:00 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 12:55:00 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 12:55:00 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 94022 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:55:00 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:55:00 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:55:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 12:55:00 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:55:00 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:55:00 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:55:00 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:55:00 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 190 ms
2025-08-28 12:55:00 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:55:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-08-28 12:55:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@2ef697d0
2025-08-28 12:55:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-08-28 12:55:00 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:55:00 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 12:55:00 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:55:00 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:55:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:55:00 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:55:00 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:55:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:55:00 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:55:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:55:01 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:55:01 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:55:01 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:55:01 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@39368f71, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@490d560a, org.springframework.security.web.context.SecurityContextHolderFilter@51a54009, org.springframework.security.web.header.HeaderWriterFilter@4afbc3f9, org.springframework.web.filter.CorsFilter@55ca7af8, org.springframework.security.web.authentication.logout.LogoutFilter@48989443, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6877ad39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fb7b2b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11015b89, org.springframework.security.web.session.SessionManagementFilter@15e338cf, org.springframework.security.web.access.ExceptionTranslationFilter@7623fa04, org.springframework.security.web.access.intercept.AuthorizationFilter@4af08f9b]
2025-08-28 12:55:01 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:55:01 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:55:01 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:55:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:55:01 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.916 seconds (process running for 128.255)
2025-08-28 12:55:01 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 12:55:09 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 12:55:20 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:55:20 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-08-28 12:55:20 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-08-28 12:55:45 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 99115 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 12:55:45 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 12:55:45 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 12:55:45 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 12:55:45 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 12:55:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 12:55:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 12:55:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 12:55:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 12:55:46 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 12:55:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 790 ms
2025-08-28 12:55:46 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 12:55:46 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 12:55:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 12:55:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@92b329d
2025-08-28 12:55:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 12:55:46 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 12:55:46 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 12:55:46 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 12:55:46 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 12:55:46 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.015s)
2025-08-28 12:55:46 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 12:55:46 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 12:55:46 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 12:55:46 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 12:55:46 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 12:55:46 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 12:55:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 12:55:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 12:55:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 12:55:47 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 12:55:47 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 32 mappings in 'requestMappingHandlerMapping'
2025-08-28 12:55:47 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 12:55:48 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 12:55:48 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@76af8196, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e9a8b75, org.springframework.security.web.context.SecurityContextHolderFilter@328afe6, org.springframework.security.web.header.HeaderWriterFilter@2ff33fd0, org.springframework.web.filter.CorsFilter@5015d530, org.springframework.security.web.authentication.logout.LogoutFilter@48e5b644, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31928d4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17a8c2de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d77e0af, org.springframework.security.web.session.SessionManagementFilter@4352c583, org.springframework.security.web.access.ExceptionTranslationFilter@1f504ce3, org.springframework.security.web.access.intercept.AuthorizationFilter@7d4ca067]
2025-08-28 12:55:48 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 12:55:48 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 12:55:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 12:55:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 12:55:48 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.242 seconds (process running for 3.394)
2025-08-28 12:55:54 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 12:55:54 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@71e3b374
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2c2429f1
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 12:55:54 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 12:55:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 12:55:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 12:55:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1
2025-08-28 12:55:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/reviews?page=0&size=5
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/reviews?page=0&size=5
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/reviews?page=0&size=5
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1", parameters={}
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/reviews?page=0&size=5", parameters={masked}
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@739e6154, com.bookreview (truncated)...]
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:55:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@6293c756, com.bookreview.dto.ReviewDto@b40432c], reviewCount= (truncated)...]
2025-08-28 12:55:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 12:56:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:56:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:56:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:56:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@767a7cd, com.bookreview. (truncated)...]
2025-08-28 12:56:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@501c8644, com.bookreview.dto.ReviewDto@2d34ddc5], reviewCount (truncated)...]
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:56:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 12:56:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 12:56:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 12:56:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 12:56:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/reviews?page=0&size=5
2025-08-28 12:56:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/reviews?page=0&size=5
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/reviews?page=0&size=5
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4", parameters={}
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/reviews?page=0&size=5", parameters={masked}
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@7ed364a2, com.bookreview (truncated)...]
2025-08-28 12:56:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@60ef5075, com.bookreview.dto.ReviewDto@4fa0bc59], reviewCount (truncated)...]
2025-08-28 12:56:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6
2025-08-28 12:56:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/reviews?page=0&size=5
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/reviews?page=0&size=5
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/reviews?page=0&size=5
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/reviews?page=0&size=5", parameters={masked}
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6", parameters={}
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@51339791], totalElements (truncated)...]
2025-08-28 12:56:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@4816462a], reviewCount=1, author=Douglas Adams, coverImageUrl (truncated)...]
2025-08-28 12:56:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:58:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:58:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:58:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:29 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:58:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 12:58:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 12:58:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:58:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 12:58:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 12:58:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 12:58:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 12:58:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:58:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 12:58:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:58:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 12:58:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 12:58:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 12:58:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:58:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 12:59:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 12:59:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 12:59:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 12:59:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 12:59:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 12:59:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:00:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 13:00:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@6c22b5b6, com.bookreview (truncated)...]
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:00:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@6c4fa31, com.bookreview.dto.ReviewDto@3ddd0d62], reviewCount= (truncated)...]
2025-08-28 13:00:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:00:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/my-reviews?page=0&size=10
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/my-reviews?page=0&size=10
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/my-reviews?page=0&size=10
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/my-reviews?page=0&size=10", parameters={masked}
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#getMyReviews(String, int, int)
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.book 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.user.id = :userId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            books b1_0 
                on b1_0.id=r1_0.book_id 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            u1_0.id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=10, last=true, totalPages=1, currentPage=0, content=[Review{id=35, rating=2, reviewTextLength= (truncated)...]
2025-08-28 13:00:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:00:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reviews/34
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /reviews/34
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /error
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /error
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/api/error", parameters={}
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 13:00:21 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/a (truncated)...]
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-08-28 13:00:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /reviews/34
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /error
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /error
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/api/error", parameters={}
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 13:00:25 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/a (truncated)...]
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-08-28 13:00:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:00:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reviews/34
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /reviews/34
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /error
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /error
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/api/error", parameters={}
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 13:00:34 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/a (truncated)...]
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-08-28 13:00:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:04:01 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-08-28 13:04:13 [Thread-5] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 13:04:13 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:04:13 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 13:04:13 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 13:04:13 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 99115 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:04:13 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:04:13 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:04:13 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:04:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:04:13 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:04:13 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:04:13 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 222 ms
2025-08-28 13:04:13 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:04:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 13:04:13 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7c6e565
2025-08-28 13:04:13 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 13:04:13 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:04:13 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.007s)
2025-08-28 13:04:13 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:04:13 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:04:13 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:04:13 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:04:13 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:04:13 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:04:13 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:04:13 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:04:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:04:13 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:04:13 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:04:13 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ed1f6ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c7a69f5, org.springframework.security.web.context.SecurityContextHolderFilter@6345e1f8, org.springframework.security.web.header.HeaderWriterFilter@1b5f091a, org.springframework.web.filter.CorsFilter@34f9f4d1, org.springframework.security.web.authentication.logout.LogoutFilter@2b2a50a0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e228c69, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@433c654, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@363a03b0, org.springframework.security.web.session.SessionManagementFilter@2e050b9, org.springframework.security.web.access.ExceptionTranslationFilter@55b71364, org.springframework.security.web.access.intercept.AuthorizationFilter@5fa23557]
2025-08-28 13:04:13 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:04:13 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:04:14 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:04:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:04:14 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.996 seconds (process running for 509.002)
2025-08-28 13:04:14 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:04:15 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 31 class path changes (0 additions, 0 deletions, 31 modifications)
2025-08-28 13:04:26 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:04:26 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 13:04:26 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 13:04:46 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 12875 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:04:46 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:04:46 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:04:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 13:04:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 3 JPA repository interfaces.
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 13:04:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:04:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:04:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:04:47 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:04:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 872 ms
2025-08-28 13:04:47 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:04:47 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 13:04:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 13:04:47 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@65c1e643
2025-08-28 13:04:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 13:04:47 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 13:04:47 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 13:04:47 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 13:04:47 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:04:47 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.016s)
2025-08-28 13:04:47 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:04:47 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:04:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:04:47 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 13:04:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:04:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:04:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:04:48 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:04:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:04:48 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 13:04:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:04:49 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:04:49 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:04:49 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54b2c11, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dbbd161, org.springframework.security.web.context.SecurityContextHolderFilter@6043a264, org.springframework.security.web.header.HeaderWriterFilter@439bfe73, org.springframework.web.filter.CorsFilter@fbb31a4, org.springframework.security.web.authentication.logout.LogoutFilter@4295e972, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59ee75a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@139f0885, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a99916, org.springframework.security.web.session.SessionManagementFilter@1b3e0fa, org.springframework.security.web.access.ExceptionTranslationFilter@2e68f831, org.springframework.security.web.access.intercept.AuthorizationFilter@eacaf68]
2025-08-28 13:04:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:04:49 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:04:49 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:04:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:04:49 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.408 seconds (process running for 3.576)
2025-08-28 13:04:58 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 13:04:58 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:04:58 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 13:04:58 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 13:04:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 12875 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:04:58 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:04:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:04:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:04:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:04:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:04:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:04:58 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:04:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 215 ms
2025-08-28 13:04:58 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:04:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 13:04:58 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@28ada1d3
2025-08-28 13:04:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 13:04:58 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:04:58 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.007s)
2025-08-28 13:04:58 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:04:58 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:04:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:04:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:04:58 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:04:58 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:04:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:04:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:04:58 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:04:58 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:04:58 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:04:58 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@595b17c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46ed4a48, org.springframework.security.web.context.SecurityContextHolderFilter@3e6c808b, org.springframework.security.web.header.HeaderWriterFilter@31fb9354, org.springframework.web.filter.CorsFilter@20cd282e, org.springframework.security.web.authentication.logout.LogoutFilter@68ff5eb5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@335e7223, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e3b54, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@112807cc, org.springframework.security.web.session.SessionManagementFilter@3c1e1759, org.springframework.security.web.access.ExceptionTranslationFilter@7cb817e1, org.springframework.security.web.access.intercept.AuthorizationFilter@405c2671]
2025-08-28 13:04:59 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:04:59 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:04:59 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:04:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:04:59 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.017 seconds (process running for 13.115)
2025-08-28 13:04:59 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:05:01 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 13:05:01 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 13:05:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 13:05:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 13:05:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 13:05:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2cfa2e6
2025-08-28 13:05:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@566d21be
2025-08-28 13:05:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 13:05:01 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-08-28 13:05:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:05:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:05:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:05:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:05:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/my-reviews?page=0&size=10
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/my-reviews?page=0&size=10
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/my-reviews?page=0&size=10
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/my-reviews?page=0&size=10", parameters={masked}
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#getMyReviews(String, int, int)
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.book 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.user.id = :userId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            books b1_0 
                on b1_0.id=r1_0.book_id 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            u1_0.id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=10, last=true, totalPages=1, currentPage=0, content=[Review{id=35, rating=2, reviewTextLength= (truncated)...]
2025-08-28 13:05:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:05:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reviews/34
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /reviews/34
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /error
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /error
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/api/error", parameters={}
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 13:05:07 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/a (truncated)...]
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-08-28 13:05:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:06:37 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 13:06:48 [Thread-7] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 13:06:48 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:06:48 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 13:06:48 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 13:06:48 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 12875 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:06:48 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:06:48 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:06:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:06:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:06:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:06:48 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:06:48 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:06:48 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 207 ms
2025-08-28 13:06:48 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:06:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-08-28 13:06:49 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@29b355cd
2025-08-28 13:06:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-08-28 13:06:49 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:06:49 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 13:06:49 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:06:49 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:06:49 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:06:49 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:06:49 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:06:49 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:06:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:06:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:06:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:06:49 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:06:49 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:06:49 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@747ebaf9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41ca7099, org.springframework.security.web.context.SecurityContextHolderFilter@43ad1edc, org.springframework.security.web.header.HeaderWriterFilter@6dedf686, org.springframework.web.filter.CorsFilter@5516fe5, org.springframework.security.web.authentication.logout.LogoutFilter@4c6f54b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@782c5205, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c41ba5f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@394f74d7, org.springframework.security.web.session.SessionManagementFilter@56089c47, org.springframework.security.web.access.ExceptionTranslationFilter@1237fe81, org.springframework.security.web.access.intercept.AuthorizationFilter@12b9c23d]
2025-08-28 13:06:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:06:49 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:06:49 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:06:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:06:49 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.984 seconds (process running for 123.58)
2025-08-28 13:06:49 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:06:51 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 31 class path changes (0 additions, 0 deletions, 31 modifications)
2025-08-28 13:06:51 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:06:51 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-08-28 13:06:51 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-08-28 13:06:51 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 12875 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:06:51 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:06:51 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:06:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:06:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:06:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:06:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:06:51 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:06:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 180 ms
2025-08-28 13:06:51 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:06:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-08-28 13:06:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@789df49b
2025-08-28 13:06:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-08-28 13:06:51 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:06:51 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 13:06:51 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:06:51 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:06:51 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:06:51 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:06:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:06:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:06:51 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:06:51 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:06:51 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:06:51 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:06:51 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:06:51 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e63395f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74787e80, org.springframework.security.web.context.SecurityContextHolderFilter@35a77860, org.springframework.security.web.header.HeaderWriterFilter@e97ee1d, org.springframework.web.filter.CorsFilter@4d7e0e27, org.springframework.security.web.authentication.logout.LogoutFilter@4a3f26d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@720d7d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f7ea7af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@dfe8db7, org.springframework.security.web.session.SessionManagementFilter@2893c086, org.springframework.security.web.access.ExceptionTranslationFilter@4aac4f97, org.springframework.security.web.access.intercept.AuthorizationFilter@2dc9e10b]
2025-08-28 13:06:51 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:06:51 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:06:51 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:06:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:06:51 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.876 seconds (process running for 125.908)
2025-08-28 13:06:51 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:07:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 13:07:44 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:07:44 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-08-28 13:07:44 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-08-28 13:07:44 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 12875 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:07:44 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:07:44 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:07:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:07:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:07:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:07:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:07:45 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:07:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 187 ms
2025-08-28 13:07:45 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:07:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-08-28 13:07:45 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@67dc6966
2025-08-28 13:07:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-08-28 13:07:45 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:07:45 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.007s)
2025-08-28 13:07:45 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:07:45 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:07:45 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:07:45 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:07:45 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:07:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:07:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:07:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:07:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:07:45 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:07:45 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:07:45 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@69344604, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47a50e5b, org.springframework.security.web.context.SecurityContextHolderFilter@34763ec4, org.springframework.security.web.header.HeaderWriterFilter@58c7d18d, org.springframework.web.filter.CorsFilter@e997f38, org.springframework.security.web.authentication.logout.LogoutFilter@33049252, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@92eb0a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20c80b84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a58df6e, org.springframework.security.web.session.SessionManagementFilter@188d8a1e, org.springframework.security.web.access.ExceptionTranslationFilter@289f265b, org.springframework.security.web.access.intercept.AuthorizationFilter@21da3bb3]
2025-08-28 13:07:45 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:07:45 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:07:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:07:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:07:45 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.877 seconds (process running for 179.761)
2025-08-28 13:07:45 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:07:47 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:07:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-08-28 13:07:47 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-08-28 13:10:53 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 22414 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:10:53 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:10:53 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:10:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 13:10:53 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 3 JPA repository interfaces.
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:10:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 13:10:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:10:54 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:10:54 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:10:54 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:10:54 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 917 ms
2025-08-28 13:10:54 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:10:54 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:10:54 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 13:10:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 13:10:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22eb38a8
2025-08-28 13:10:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 13:10:55 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 13:10:55 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 13:10:55 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 13:10:55 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:10:55 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.014s)
2025-08-28 13:10:55 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:10:55 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:10:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:10:55 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 13:10:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:10:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:10:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:10:55 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:10:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:10:55 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 13:10:56 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:10:56 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:10:56 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:10:56 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20b47101, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b1b4bed, org.springframework.security.web.context.SecurityContextHolderFilter@3026f883, org.springframework.security.web.header.HeaderWriterFilter@6f04ec62, org.springframework.web.filter.CorsFilter@76f781d9, org.springframework.security.web.authentication.logout.LogoutFilter@7baecac5, com.bookreview.security.JwtAuthenticationFilter@2f57d42a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56b4fd75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@412f11c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2945b230, org.springframework.security.web.session.SessionManagementFilter@12ee67b4, org.springframework.security.web.access.ExceptionTranslationFilter@69c7d6e8, org.springframework.security.web.access.intercept.AuthorizationFilter@2ae82e81]
2025-08-28 13:10:56 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:10:56 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:10:57 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:10:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:10:57 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.464 seconds (process running for 3.641)
2025-08-28 13:11:03 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-08-28 13:11:03 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:11:03 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 13:11:03 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 13:11:03 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 22414 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:11:03 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:11:03 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:11:03 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:11:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:11:03 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:11:03 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:11:03 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:11:03 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 235 ms
2025-08-28 13:11:03 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:11:03 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:11:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 13:11:04 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@6a56f7f2
2025-08-28 13:11:04 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 13:11:04 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:11:04 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.008s)
2025-08-28 13:11:04 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:11:04 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:11:04 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:11:04 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:11:04 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:11:04 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:11:04 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:11:04 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:11:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:11:04 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:11:04 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:11:04 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30e7066e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@748213c9, org.springframework.security.web.context.SecurityContextHolderFilter@3404013, org.springframework.security.web.header.HeaderWriterFilter@53cbc3c1, org.springframework.web.filter.CorsFilter@6c58617c, org.springframework.security.web.authentication.logout.LogoutFilter@2334c3b3, com.bookreview.security.JwtAuthenticationFilter@4346d87a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6be9ddf3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ee3527, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42f05383, org.springframework.security.web.session.SessionManagementFilter@4471ff89, org.springframework.security.web.access.ExceptionTranslationFilter@4b52c251, org.springframework.security.web.access.intercept.AuthorizationFilter@6b218797]
2025-08-28 13:11:04 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:11:04 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:11:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:11:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:11:04 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.109 seconds (process running for 11.238)
2025-08-28 13:11:04 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:11:06 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 13:11:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 13:11:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 13:11:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 13:11:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 13:11:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@654c3ec2
2025-08-28 13:11:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@168031e4
2025-08-28 13:11:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 13:11:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-08-28 13:11:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:11:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:11:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:11:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:11:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:11:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:11:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:11:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:11:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:11:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:11:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:11:06 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:11:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/my-reviews?page=0&size=10
2025-08-28 13:11:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/my-reviews?page=0&size=10
2025-08-28 13:11:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/my-reviews?page=0&size=10
2025-08-28 13:11:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/my-reviews?page=0&size=10", parameters={masked}
2025-08-28 13:11:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#getMyReviews(String, int, int)
2025-08-28 13:11:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.book 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.user.id = :userId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            books b1_0 
                on b1_0.id=r1_0.book_id 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            u1_0.id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:11:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=10, last=true, totalPages=1, currentPage=0, content=[Review{id=35, rating=2, reviewTextLength= (truncated)...]
2025-08-28 13:11:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/logout
2025-08-28 13:11:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/logout
2025-08-28 13:11:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/logout
2025-08-28 13:11:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/logout", parameters={}
2025-08-28 13:11:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#logout(String)
2025-08-28 13:11:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Logged out successfully}]
2025-08-28 13:11:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-08-28 13:11:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-08-28 13:11:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:11:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-08-28 13:11:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-08-28 13:11:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#login(LoginDto)
2025-08-28 13:11:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDto{email='a@b.com', rememberMe=false}]
2025-08-28 13:11:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=? 
        and u1_0.active=?
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{type='Bearer', userId=9, name='Anupam', email='a@b.com', expiresAt=2025-08-29T13:11:30.0 (truncated)...]
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 13:11:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 13:11:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 13:11:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 13:11:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 13:11:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 13:11:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 13:11:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 13:11:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:11:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@57a9b3c9, com.bookreview (truncated)...]
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@6fe85e60, com.bookreview.dto.ReviewDto@5590f397], reviewCount (truncated)...]
2025-08-28 13:11:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 13:11:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 13:11:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:11:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:11:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 13:11:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:11:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 13:11:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 13:11:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 13:11:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 13:11:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:11:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:11:56 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 13:11:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:11:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:11:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:11:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@2ff9dbbf, com.bookreview (truncated)...]
2025-08-28 13:11:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:11:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:56 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@a30968c, com.bookreview.dto.ReviewDto@4111d112], reviewCount= (truncated)...]
2025-08-28 13:11:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:11:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:11:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 13:11:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:12:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 13:12:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:12:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 13:12:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 13:12:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 13:12:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 13:12:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 13:12:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:12:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 13:12:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 13:12:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 13:12:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:12:01 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 13:12:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:12:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@1584b279, com.bookreview (truncated)...]
2025-08-28 13:12:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:12:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:12:01 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@51885362, com.bookreview.dto.ReviewDto@71bb9784], reviewCount (truncated)...]
2025-08-28 13:12:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 13:12:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3
2025-08-28 13:12:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:12:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:12:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/reviews?page=0&size=5
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3
2025-08-28 13:12:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/reviews?page=0&size=5
2025-08-28 13:12:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:12:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/reviews?page=0&size=5
2025-08-28 13:12:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3
2025-08-28 13:12:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:12:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/reviews?page=0&size=5", parameters={masked}
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3", parameters={}
2025-08-28 13:12:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 13:12:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 13:12:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:12:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:12:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@1ff4a659, com.bookreview (truncated)...]
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@11181720, com.bookreview.dto.ReviewDto@2d9727be], reviewCount (truncated)...]
2025-08-28 13:12:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:12:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:12:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:12:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:12:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:12:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:12:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 13:12:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/my-reviews?page=0&size=10
2025-08-28 13:13:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/my-reviews?page=0&size=10
2025-08-28 13:13:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/my-reviews?page=0&size=10
2025-08-28 13:13:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/my-reviews?page=0&size=10", parameters={masked}
2025-08-28 13:13:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#getMyReviews(String, int, int)
2025-08-28 13:13:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.book 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.user.id = :userId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            books b1_0 
                on b1_0.id=r1_0.book_id 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            u1_0.id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:13:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=10, last=true, totalPages=1, currentPage=0, content=[Review{id=35, rating=2, reviewTextLength= (truncated)...]
2025-08-28 13:13:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /reviews/34
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /reviews/34
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /reviews/34
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/reviews/34", parameters={}
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.ReviewController#updateReview(Long, Map)
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{rating=3, reviewText=okay read}]
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.book_id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.id=?
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* update
        for com.bookreview.entity.Review */update reviews 
    set
        book_id=?,
        rating=?,
        review_text=?,
        updated_at=?,
        user_id=? 
    where
        id=?
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        AVG(CAST(r.rating AS double)) 
    FROM
        Review r 
    WHERE
        r.book.id = :bookId */ select
            avg(cast(r1_0.rating as float(53))) 
        from
            reviews r1_0 
        where
            r1_0.book_id=?
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        COUNT(r) 
    FROM
        Review r 
    WHERE
        r.book.id = :bookId */ select
            count(r1_0.id) 
        from
            reviews r1_0 
        where
            r1_0.book_id=?
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, review=Review{id=34, rating=3, reviewTextLength=9, userId=9, bookId=3, createdAt=2025 (truncated)...]
2025-08-28 13:13:41 [http-nio-8080-exec-5] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: could not initialize proxy [com.bookreview.entity.User#9] - no Session]
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /error
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /error
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for PUT "/api/error", parameters={}
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Aug 28 13:13:41 IST 2025, status=500, error=Internal Server Error, trace=org.springfr (truncated)...]
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-08-28 13:13:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:13:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:13:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:13:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:13:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:13:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:13:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:13:46 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:13:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:13:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:13:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:13:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:13:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:13:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/my-reviews?page=0&size=10
2025-08-28 13:13:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/my-reviews?page=0&size=10
2025-08-28 13:13:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/my-reviews?page=0&size=10
2025-08-28 13:13:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/my-reviews?page=0&size=10", parameters={masked}
2025-08-28 13:13:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#getMyReviews(String, int, int)
2025-08-28 13:13:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.book 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.user.id = :userId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            books b1_0 
                on b1_0.id=r1_0.book_id 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            u1_0.id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:13:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=10, last=true, totalPages=1, currentPage=0, content=[Review{id=35, rating=2, reviewTextLength= (truncated)...]
2025-08-28 13:13:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 13:13:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 13:13:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 13:13:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 13:13:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 13:13:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:13:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21
2025-08-28 13:14:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/reviews?page=0&size=5
2025-08-28 13:14:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21
2025-08-28 13:14:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/reviews?page=0&size=5
2025-08-28 13:14:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/reviews?page=0&size=5
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21", parameters={}
2025-08-28 13:14:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/reviews?page=0&size=5", parameters={masked}
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 13:14:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:14:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@42867d19], totalElements (truncated)...]
2025-08-28 13:14:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@4db608de], reviewCount=1, author=Walter Isaacson, coverImageU (truncated)...]
2025-08-28 13:14:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/reviews
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /books/21/reviews
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /books/21/reviews
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/books/21/reviews", parameters={}
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#createReview(Long, Map, String)
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{rating=5, reviewText=great read}]
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    WHERE
        r.user.id = :userId 
        AND r.book.id = :bookId */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id 
        from
            reviews r1_0 
        where
            r1_0.user_id=? 
            and r1_0.book_id=?
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* insert for
        com.bookreview.entity.Review */insert 
    into
        reviews (book_id, created_at, rating, review_text, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        AVG(CAST(r.rating AS double)) 
    FROM
        Review r 
    WHERE
        r.book.id = :bookId */ select
            avg(cast(r1_0.rating as float(53))) 
        from
            reviews r1_0 
        where
            r1_0.book_id=?
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        COUNT(r) 
    FROM
        Review r 
    WHERE
        r.book.id = :bookId */ select
            count(r1_0.id) 
        from
            reviews r1_0 
        where
            r1_0.book_id=?
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* update
        for com.bookreview.entity.Book */update books 
    set
        author=?,
        average_rating=?,
        cover_image_url=?,
        description=?,
        genres=?,
        published_year=?,
        review_count=?,
        title=?,
        updated_at=? 
    where
        id=?
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, review=Review{id=36, rating=5, reviewTextLength=10, userId=9, bookId=21, createdAt=20 (truncated)...]
2025-08-28 13:14:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/reviews?page=0&size=5
2025-08-28 13:14:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21
2025-08-28 13:14:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/reviews?page=0&size=5
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21", parameters={}
2025-08-28 13:14:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/reviews?page=0&size=5
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 13:14:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/reviews?page=0&size=5", parameters={masked}
2025-08-28 13:14:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 13:14:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@583f467d, com.bookreview (truncated)...]
2025-08-28 13:14:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@769ac2c3, com.bookreview.dto.ReviewDto@56bf9061], reviewCount (truncated)...]
2025-08-28 13:14:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 13:14:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 13:14:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:14:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 13:14:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 13:14:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:14:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 13:14:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 13:14:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 13:14:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 13:14:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 13:14:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:14:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, aiAvailable=false, message=AI recommendations are not available. Please contact admi (truncated)...]
2025-08-28 13:14:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:15:14 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:15:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 13:15:14 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 13:20:30 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:20:30 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:20:30 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:20:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 13:20:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 13:20:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:20:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:20:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2025-08-28 13:20:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:20:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:20:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:20:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:20:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:20:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 13:20:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:20:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:20:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:20:31 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:20:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 874 ms
2025-08-28 13:20:31 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:20:31 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:20:31 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 13:20:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 13:20:31 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5b935b84
2025-08-28 13:20:31 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 13:20:31 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 13:20:31 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 13:20:31 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 13:20:31 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:20:31 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.013s)
2025-08-28 13:20:31 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:20:31 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:20:31 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:20:31 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 13:20:31 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:20:31 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:20:32 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:20:32 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:20:32 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:20:32 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 13:20:33 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:20:33 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:20:33 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:20:33 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52905b19, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55501131, org.springframework.security.web.context.SecurityContextHolderFilter@77c4eaa2, org.springframework.security.web.header.HeaderWriterFilter@fdd4e66, org.springframework.web.filter.CorsFilter@358f1911, org.springframework.security.web.authentication.logout.LogoutFilter@33aec2a0, com.bookreview.security.JwtAuthenticationFilter@74084852, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43ccc2d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3af51311, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d7a4611, org.springframework.security.web.session.SessionManagementFilter@63c790d4, org.springframework.security.web.access.ExceptionTranslationFilter@3133c2e0, org.springframework.security.web.access.intercept.AuthorizationFilter@673e6085]
2025-08-28 13:20:33 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:20:33 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:20:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:20:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:20:33 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.172 seconds (process running for 3.329)
2025-08-28 13:20:37 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 13:20:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@52fb381e
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@334e6f69
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 13:20:37 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-28 13:20:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 13:20:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:20:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:20:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 13:20:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 13:20:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 13:20:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 13:20:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 13:20:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 13:20:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 13:20:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 13:20:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:20:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:20:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:20:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 13:20:38 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 13:20:38 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:20:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:20:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:20:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:20:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-08-28 13:20:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-08-28 13:20:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:20:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-08-28 13:20:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-08-28 13:20:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#login(LoginDto)
2025-08-28 13:20:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDto{email='a@b.com', rememberMe=false}]
2025-08-28 13:20:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=? 
        and u1_0.active=?
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{type='Bearer', userId=9, name='Anupam', email='a@b.com', expiresAt=2025-08-29T13:20:54.0 (truncated)...]
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 13:20:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 13:20:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 13:20:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:20:57 [http-nio-8080-exec-10] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Based on someone who likes these books: "Popular Romance books"

Please recommend 3 similar books that this person would enjoy. For each recommendation, provide the title and author in the format: 'Title by Author'. One book per line. Only provide the book recommendations, no additional explanations.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 13:20:59 [http-nio-8080-exec-10] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:20:59 [http-nio-8080-exec-10] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:20:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=3, refreshedAt=Thu Aug 28 13:20:59 IST 2025, aiAvailable=true, type=ai_powered, recommendatio (truncated)...]
2025-08-28 13:20:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:20:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/-1/favorite
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/-1/favorite
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/-1/favorite
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/-1/favorite", parameters={}
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=-1}]
2025-08-28 13:20:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:21:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:21:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 13:21:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 13:21:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:21:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 13:21:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:21:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 13:21:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:21:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:21:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:21:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:21:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:21:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:21:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 13:21:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:21:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 13:21:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 13:21:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:21:40 [http-nio-8080-exec-2] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Based on someone who likes these books: "Popular Science Fiction books"

Please recommend 3 similar books that this person would enjoy. For each recommendation, provide the title and author in the format: 'Title by Author'. One book per line. Only provide the book recommendations, no additional explanations.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 13:21:41 [http-nio-8080-exec-2] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:21:41 [http-nio-8080-exec-2] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:21:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=3, refreshedAt=Thu Aug 28 13:21:41 IST 2025, aiAvailable=true, type=ai_powered, recommendatio (truncated)...]
2025-08-28 13:21:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:21:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/-1/favorite
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/-1/favorite
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/-1/favorite
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/-1/favorite", parameters={}
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=-1}]
2025-08-28 13:21:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:43:32 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-08-28 13:43:33 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:43:33 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 13:43:33 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 13:43:33 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:43:33 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:43:33 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 JPA repository interfaces.
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:43:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:43:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:43:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:43:33 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:43:33 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:43:33 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 235 ms
2025-08-28 13:43:33 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:43:33 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:43:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 13:43:33 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@2c9dd015
2025-08-28 13:43:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 13:43:33 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:43:33 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 13:43:33 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:43:33 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:43:33 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:43:33 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:43:33 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:43:33 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:43:33 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:43:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:43:33 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookCoverService': Unsatisfied dependency expressed through field 'restTemplate': No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-28 13:43:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:43:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 13:43:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 13:43:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 13:43:33 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 13:43:33 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field restTemplate in com.bookreview.service.BookCoverService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-08-28 13:43:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:43:58 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:43:58 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:43:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:43:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:43:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:43:58 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:43:58 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:43:58 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 200 ms
2025-08-28 13:43:58 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:43:58 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:43:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-08-28 13:43:58 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@6a24687c
2025-08-28 13:43:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-08-28 13:43:58 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:43:58 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 13:43:58 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:43:58 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:43:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:43:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:43:58 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:43:58 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:43:58 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:43:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:43:58 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookController' defined in file [/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes/com/bookreview/controller/BookController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookService' defined in file [/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes/com/bookreview/service/BookService.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'bookCoverService': Unsatisfied dependency expressed through field 'restTemplate': No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-28 13:43:58 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:43:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-08-28 13:43:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-08-28 13:43:58 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 13:43:58 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 13:43:58 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field restTemplate in com.bookreview.service.BookCoverService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-08-28 13:44:09 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:44:09 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:44:09 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:44:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:44:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:44:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:44:09 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:44:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 208 ms
2025-08-28 13:44:09 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:44:09 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:44:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-08-28 13:44:09 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@1d6ffde5
2025-08-28 13:44:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-08-28 13:44:09 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:44:09 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.004s)
2025-08-28 13:44:09 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:44:09 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:44:09 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:44:09 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:44:09 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:44:09 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:44:09 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:44:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:44:09 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bookController' defined in file [/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes/com/bookreview/controller/BookController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bookService' defined in file [/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes/com/bookreview/service/BookService.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'bookCoverService': Unsatisfied dependency expressed through field 'restTemplate': No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-28 13:44:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:44:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-08-28 13:44:09 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-08-28 13:44:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 13:44:09 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 13:44:09 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field restTemplate in com.bookreview.service.BookCoverService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-08-28 13:44:28 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:44:28 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:44:28 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:44:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:44:29 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:44:29 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:44:29 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:44:29 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 205 ms
2025-08-28 13:44:29 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:44:29 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:44:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-08-28 13:44:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@692b4df1
2025-08-28 13:44:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-08-28 13:44:29 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:44:29 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 13:44:29 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:44:29 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:44:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:44:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:44:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:44:29 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:44:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:44:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:44:29 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:44:29 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:44:29 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:44:29 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@18f6c099, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67a29781, org.springframework.security.web.context.SecurityContextHolderFilter@44bff03, org.springframework.security.web.header.HeaderWriterFilter@684e2737, org.springframework.web.filter.CorsFilter@6e99c7b3, org.springframework.security.web.authentication.logout.LogoutFilter@7ccf2b33, com.bookreview.security.JwtAuthenticationFilter@631cd087, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4186d5c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63b79528, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b110649, org.springframework.security.web.session.SessionManagementFilter@b46b9b0, org.springframework.security.web.access.ExceptionTranslationFilter@62a7aac2, org.springframework.security.web.access.intercept.AuthorizationFilter@3f7d1535]
2025-08-28 13:44:29 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:44:29 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:44:29 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:44:29 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:44:29 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.943 seconds (process running for 1439.663)
2025-08-28 13:44:29 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:44:36 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 34 class path changes (0 additions, 0 deletions, 34 modifications)
2025-08-28 13:44:36 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:44:36 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-08-28 13:44:36 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-08-28 13:44:36 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:44:36 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:44:36 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:44:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:44:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:44:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:44:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:44:36 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:44:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 205 ms
2025-08-28 13:44:36 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:44:36 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:44:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-08-28 13:44:36 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@bdc0740
2025-08-28 13:44:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-08-28 13:44:36 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:44:36 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 13:44:36 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:44:36 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:44:36 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:44:36 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:44:36 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:44:36 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:44:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:44:36 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:44:36 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:44:36 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:44:36 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:44:36 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78ecb0a0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cc1a9fa, org.springframework.security.web.context.SecurityContextHolderFilter@46c621e1, org.springframework.security.web.header.HeaderWriterFilter@25bc4f75, org.springframework.web.filter.CorsFilter@f6840bc, org.springframework.security.web.authentication.logout.LogoutFilter@2eea47c5, com.bookreview.security.JwtAuthenticationFilter@390a412a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d5848fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3976796d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a30e443, org.springframework.security.web.session.SessionManagementFilter@503a7068, org.springframework.security.web.access.ExceptionTranslationFilter@60eb349c, org.springframework.security.web.access.intercept.AuthorizationFilter@690ce1f]
2025-08-28 13:44:36 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:44:37 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:44:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:44:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:44:37 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.925 seconds (process running for 1446.905)
2025-08-28 13:44:37 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:45:07 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-08-28 13:45:07 [Thread-20] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:45:07 [Thread-20] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-08-28 13:45:07 [Thread-20] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-08-28 13:45:07 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:45:07 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:45:07 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:45:07 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:45:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:45:08 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:45:08 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:45:08 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:45:08 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 190 ms
2025-08-28 13:45:08 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:45:08 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:45:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-08-28 13:45:08 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@424e7988
2025-08-28 13:45:08 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-08-28 13:45:08 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:45:08 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 13:45:08 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:45:08 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:45:08 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:45:08 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:45:08 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:45:08 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:45:08 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:45:08 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:45:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:45:08 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:45:08 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:45:08 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cd07e01, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44a6f8c, org.springframework.security.web.context.SecurityContextHolderFilter@789b8842, org.springframework.security.web.header.HeaderWriterFilter@6130da10, org.springframework.web.filter.CorsFilter@74c1cb10, org.springframework.security.web.authentication.logout.LogoutFilter@1c0f87e6, com.bookreview.security.JwtAuthenticationFilter@7f9e94e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1157454d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6468af52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ae954f9, org.springframework.security.web.session.SessionManagementFilter@6a0a785a, org.springframework.security.web.access.ExceptionTranslationFilter@2d50260d, org.springframework.security.web.access.intercept.AuthorizationFilter@5437b418]
2025-08-28 13:45:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:45:08 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:45:08 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:45:08 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:45:08 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.925 seconds (process running for 1478.552)
2025-08-28 13:45:08 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:51:04 [http-nio-8080-exec-5] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 13:51:04 [http-nio-8080-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@281d1b7d
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@275396f8
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 13:51:04 [http-nio-8080-exec-5] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:51:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 13:51:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 13:51:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 13:51:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 13:51:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 13:51:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 13:51:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:51:14 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Based on someone who likes these books: "Popular Romance books"

Please recommend 3 similar books that this person would enjoy. For each recommendation, provide the title and author in the format: 'Title by Author'. One book per line. Only provide the book recommendations, no additional explanations.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 13:51:16 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:51:16 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:51:16 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522The+Hating+Game%252522+Sally+Thorne&limit=1&fields=cover_i,title,author_name
2025-08-28 13:51:16 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522Me+Before+You%252522+Jojo+Moyes&limit=1&fields=cover_i,title,author_name
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522The+Kiss+Quotient%252522+Helen+Hoang&limit=1&fields=cover_i,title,author_name
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=3, refreshedAt=Thu Aug 28 13:51:17 IST 2025, aiAvailable=true, type=ai_powered, recommendatio (truncated)...]
2025-08-28 13:51:17 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:51:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/-1/favorite
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/-1/favorite
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/-1/favorite
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/-1/favorite", parameters={}
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=-1}]
2025-08-28 13:51:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:55:37 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-08-28 13:55:37 [Thread-24] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:55:37 [Thread-24] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-08-28 13:55:37 [Thread-24] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-08-28 13:55:37 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:55:37 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:55:37 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:55:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 13:55:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:55:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:55:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:55:37 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:55:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 277 ms
2025-08-28 13:55:38 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:55:38 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:55:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-08-28 13:55:38 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection org.postgresql.jdbc.PgConnection@26c6be80
2025-08-28 13:55:38 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-08-28 13:55:38 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:55:38 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.004s)
2025-08-28 13:55:38 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:55:38 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:55:38 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:55:38 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:55:38 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:55:38 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:55:38 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:55:38 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:55:38 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:55:38 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:55:38 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:55:38 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45df44cc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18c9eab4, org.springframework.security.web.context.SecurityContextHolderFilter@41e8b408, org.springframework.security.web.header.HeaderWriterFilter@2e97e3e7, org.springframework.web.filter.CorsFilter@76d72114, org.springframework.security.web.authentication.logout.LogoutFilter@533577c0, com.bookreview.security.JwtAuthenticationFilter@2b73425, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53016c61, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31df99e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bdc93c0, org.springframework.security.web.session.SessionManagementFilter@39c2d530, org.springframework.security.web.access.ExceptionTranslationFilter@20e64656, org.springframework.security.web.access.intercept.AuthorizationFilter@3634eebd]
2025-08-28 13:55:38 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:55:38 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:55:38 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:55:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:55:38 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.028 seconds (process running for 2108.458)
2025-08-28 13:55:38 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:55:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 13:55:46 [Thread-28] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:55:46 [Thread-28] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-08-28 13:55:46 [Thread-28] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-08-28 13:55:46 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 35691 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:55:46 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:55:46 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:55:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-08-28 13:55:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:55:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:55:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:55:46 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:55:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 187 ms
2025-08-28 13:55:46 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:55:46 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:55:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-08-28 13:55:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection org.postgresql.jdbc.PgConnection@6e16d274
2025-08-28 13:55:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-08-28 13:55:46 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:55:46 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.007s)
2025-08-28 13:55:46 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:55:46 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:55:46 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:55:46 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:55:46 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:55:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:55:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:55:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:55:46 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:55:46 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:55:46 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:55:46 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f7cb394, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bb6d635, org.springframework.security.web.context.SecurityContextHolderFilter@28118bee, org.springframework.security.web.header.HeaderWriterFilter@6a925e7, org.springframework.web.filter.CorsFilter@6fff3c47, org.springframework.security.web.authentication.logout.LogoutFilter@4c98cced, com.bookreview.security.JwtAuthenticationFilter@48dbec4e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42020a8c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1186764b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45f50d71, org.springframework.security.web.session.SessionManagementFilter@338ade66, org.springframework.security.web.access.ExceptionTranslationFilter@3a5cb3, org.springframework.security.web.access.intercept.AuthorizationFilter@1d01812f]
2025-08-28 13:55:46 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:55:46 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:55:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:55:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:55:47 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.905 seconds (process running for 2116.872)
2025-08-28 13:55:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 13:56:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:56:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-08-28 13:56:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-08-28 13:58:51 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 87133 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 13:58:51 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 13:58:51 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 13:58:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 13:58:51 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 13:58:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 13:58:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 13:58:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 13:58:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 13:58:52 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 13:58:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 830 ms
2025-08-28 13:58:52 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 13:58:52 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 13:58:52 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 13:58:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 13:58:52 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@72e56a33
2025-08-28 13:58:52 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 13:58:52 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 13:58:52 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 13:58:52 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 13:58:52 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 13:58:52 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.013s)
2025-08-28 13:58:52 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 13:58:52 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 13:58:52 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 13:58:52 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 13:58:52 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 13:58:52 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 13:58:52 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 13:58:53 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 13:58:53 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 13:58:53 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 13:58:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 13:58:53 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 13:58:54 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 13:58:54 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3863448e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@704833b7, org.springframework.security.web.context.SecurityContextHolderFilter@6da6c105, org.springframework.security.web.header.HeaderWriterFilter@754f6ce5, org.springframework.web.filter.CorsFilter@243ff907, org.springframework.security.web.authentication.logout.LogoutFilter@262a371a, com.bookreview.security.JwtAuthenticationFilter@6b914003, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@627b408d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@192aa87e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ccf3b83, org.springframework.security.web.session.SessionManagementFilter@45d1bfb7, org.springframework.security.web.access.ExceptionTranslationFilter@16a5b2fa, org.springframework.security.web.access.intercept.AuthorizationFilter@726ef106]
2025-08-28 13:58:54 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 13:58:54 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 13:58:54 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 13:58:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 13:58:54 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.155 seconds (process running for 3.322)
2025-08-28 13:58:59 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 13:58:59 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2c6b5978
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@47b92d5e
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 13:58:59 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:58:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:58:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:58:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-08-28 13:59:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-08-28 13:59:11 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 13:59:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-08-28 13:59:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-08-28 13:59:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#login(LoginDto)
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDto{email='a@b.com', rememberMe=false}]
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=? 
        and u1_0.active=?
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{type='Bearer', userId=9, name='Anupam', email='a@b.com', expiresAt=2025-08-29T13:59:12.1 (truncated)...]
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 13:59:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 13:59:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 13:59:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:59:20 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Based on someone who likes these books: "Popular Mystery books"

Please recommend 3 similar books that this person would enjoy. For each recommendation, provide the title and author in the format: 'Title by Author'. One book per line. Only provide the book recommendations, no additional explanations.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 13:59:23 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:59:23 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:59:23 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522The+Girl+with+the+Dragon+Tattoo%252522+Stieg+Larsson&limit=1&fields=cover_i,title,author_name
2025-08-28 13:59:23 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:59:25 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:59:25 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:59:25 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522Gone+Girl%252522+Gillian+Flynn&limit=1&fields=cover_i,title,author_name
2025-08-28 13:59:25 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522The+Da+Vinci+Code%252522+Dan+Brown&limit=1&fields=cover_i,title,author_name
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=3, refreshedAt=Thu Aug 28 13:59:26 IST 2025, aiAvailable=true, type=ai_powered, recommendatio (truncated)...]
2025-08-28 13:59:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 13:59:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/-1/favorite
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/-1/favorite
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/-1/favorite
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/-1/favorite", parameters={}
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=-1}]
2025-08-28 13:59:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:06 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 14:00:18 [Thread-5] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 14:00:18 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:00:18 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 14:00:18 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 14:00:18 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 87133 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:00:18 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:00:18 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 JPA repository interfaces.
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:00:18 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 14:00:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:00:18 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:00:18 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:00:18 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:00:18 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 231 ms
2025-08-28 14:00:18 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:00:18 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:00:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-28 14:00:18 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@4230929
2025-08-28 14:00:18 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-28 14:00:18 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:00:18 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.007s)
2025-08-28 14:00:18 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:00:18 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:00:18 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:00:18 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:00:18 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:00:18 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:00:18 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:00:18 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:00:18 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 14:00:18 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 14:00:18 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 14:00:18 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@18b73f8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dd8c78b, org.springframework.security.web.context.SecurityContextHolderFilter@c73313b, org.springframework.security.web.header.HeaderWriterFilter@4acb8b6f, org.springframework.web.filter.CorsFilter@5cc83be6, org.springframework.security.web.authentication.logout.LogoutFilter@37890568, com.bookreview.security.JwtAuthenticationFilter@7c2aa90a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10fd24a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dad0a03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f1128d4, org.springframework.security.web.session.SessionManagementFilter@5ab26adc, org.springframework.security.web.access.ExceptionTranslationFilter@56db94d0, org.springframework.security.web.access.intercept.AuthorizationFilter@7eefdc33]
2025-08-28 14:00:19 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 14:00:19 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 14:00:19 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 14:00:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 14:00:19 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.038 seconds (process running for 88.07)
2025-08-28 14:00:19 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 14:00:48 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 14:00:48 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@15e81bda
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1b88b29
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 14:00:48 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 14:00:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 14:00:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:00:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=22}]
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 14:00:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:00:50 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Based on someone who likes these books: "Popular Fantasy books"

Please recommend 3 similar books that this person would enjoy. For each recommendation, provide the title and author in the format: 'Title by Author'. One book per line. Only provide the book recommendations, no additional explanations.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:00:52 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:00:52 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:00:52 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522Mistborn%25253A+The+Final+Empire%252522+Brandon+Sanderson&limit=1&fields=cover_i,title,author_name
2025-08-28 14:00:52 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522The+Name+of+the+Wind%252522+Patrick+Rothfuss&limit=1&fields=cover_i,title,author_name
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522The+Lies+of+Locke+Lamora%252522+Scott+Lynch&limit=1&fields=cover_i,title,author_name
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=3, refreshedAt=Thu Aug 28 14:00:54 IST 2025, aiAvailable=true, type=ai_powered, recommendatio (truncated)...]
2025-08-28 14:00:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:00:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/-1/favorite
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/-1/favorite
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/-1/favorite
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/-1/favorite", parameters={}
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=-1}]
2025-08-28 14:00:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/favorites?page=0&size=12
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/favorites?page=0&size=12
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/favorites?page=0&size=12
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/favorites?page=0&size=12", parameters={masked}
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getUserFavorites(String, int, int)
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=12, last=true, totalPages=0, currentPage=0, content=[], first=true, totalElements=0}]
2025-08-28 14:01:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books?page=0&size=20&sort=createdAt&direction=desc", parameters={masked}
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAllBooks(int, int, String, String)
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    order by
        b1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(b1_0.id) 
    from
        books b1_0
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/15/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/13/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/14/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/17/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/12/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/11/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/9/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/10/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/5/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/13/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/13/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/7/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/13/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/14/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/11/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/15/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/14/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/12/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/14/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/11/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/15/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/11/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/15/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/17/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/12/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/12/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/17/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/17/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=13}]
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=11}]
2025-08-28 14:01:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=12}]
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=15}]
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=14}]
2025-08-28 14:01:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/10/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/9/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/9/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/7/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/9/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/10/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/10/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/5/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/7/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/7/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/5/favorite
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/5/favorite", parameters={}
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=5}]
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=7}]
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=10}]
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=17}]
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=9}]
2025-08-28 14:01:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /books/22/favorite
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /books/22/favorite
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/books/22/favorite", parameters={}
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#addToFavorites(Long, String)
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* insert for
        com.bookreview.entity.User.favoriteBooks */insert 
    into
        user_favorites (user_id, book_id) 
    values
        (?, ?)
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Book added to favorites, bookId=22}]
2025-08-28 14:01:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 14:01:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /books/21/favorite
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /books/21/favorite
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/books/21/favorite", parameters={}
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#addToFavorites(Long, String)
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* insert for
        com.bookreview.entity.User.favoriteBooks */insert 
    into
        user_favorites (user_id, book_id) 
    values
        (?, ?)
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Book added to favorites, bookId=21}]
2025-08-28 14:01:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=21}]
2025-08-28 14:01:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/favorites?page=0&size=12
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/favorites?page=0&size=12
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/favorites?page=0&size=12
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/favorites?page=0&size=12", parameters={masked}
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getUserFavorites(String, int, int)
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:01:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 14:01:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 14:01:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:01:41 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Based on someone who likes these books: "The Lean Startup by Eric Ries", "Steve Jobs by Walter Isaacson"

Please recommend 3 similar books that this person would enjoy. For each recommendation, provide the title and author in the format: 'Title by Author'. One book per line. Only provide the book recommendations, no additional explanations.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:01:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:45 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:01:45 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:01:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        upper(b1_0.title) like upper(?) escape '\' 
        or upper(b1_0.author) like upper(?) escape '\'
2025-08-28 14:01:45 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=%252522Zero+to+One%25253A+Notes+on+Startups%25252C+or+How+to+Build+the+Future%252522+Peter+Thiel&limit=1&fields=cover_i,title,author_name
2025-08-28 14:01:45 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:01:53 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:01:53 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:01:53 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:01:53 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:01:53 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Someone who likes The Lean Startup by Eric Ries, Steve Jobs by Walter Isaacson might also enjoy ""Zero to One: Notes on Startups, or How to Build the Future" by Peter Thiel". In one short sentence, explain why this recommendation makes sense based on genre, theme, or style similarities.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:01:55 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:01:55 [http-nio-8080-exec-3] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:01:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:01:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:01:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:01:55 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Based on someone who likes these books: "The Lean Startup by Eric Ries", "Steve Jobs by Walter Isaacson"

Please recommend 3 similar books that this person would enjoy. For each recommendation, provide the title and author in the format: 'Title by Author'. One book per line. Only provide the book recommendations, no additional explanations.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        upper(b1_0.title) like upper(?) escape '\' 
        or upper(b1_0.author) like upper(?) escape '\'
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=Zero+to+One+Peter+Thiel&limit=1&fields=cover_i,title,author_name
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:01:58 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Someone who likes The Lean Startup by Eric Ries, Steve Jobs by Walter Isaacson might also enjoy "Zero to One by Peter Thiel". In one short sentence, explain why this recommendation makes sense based on genre, theme, or style similarities.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:02:01 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:02:01 [http-nio-8080-exec-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:02:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:02:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:02:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:04:35 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 14:04:35 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:04:35 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-28 14:04:35 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-28 14:04:35 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 87133 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:04:35 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:04:35 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 JPA repository interfaces.
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:04:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 14:04:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:04:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:04:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:04:35 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:04:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 302 ms
2025-08-28 14:04:35 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:04:35 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:04:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-08-28 14:04:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@203f3344
2025-08-28 14:04:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-08-28 14:04:35 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:04:35 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 14:04:35 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:04:35 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:04:35 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:04:35 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:04:35 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:04:35 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:04:35 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:04:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:04:36 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 14:04:36 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 14:04:36 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 14:04:36 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb137f8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ad39f02, org.springframework.security.web.context.SecurityContextHolderFilter@19fb81ec, org.springframework.security.web.header.HeaderWriterFilter@58aed5ec, org.springframework.web.filter.CorsFilter@4243da33, org.springframework.security.web.authentication.logout.LogoutFilter@66763128, com.bookreview.security.JwtAuthenticationFilter@71ba23af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@324f2f95, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@463c4f1e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7748dcc7, org.springframework.security.web.session.SessionManagementFilter@3b91dc8f, org.springframework.security.web.access.ExceptionTranslationFilter@29f6b0d8, org.springframework.security.web.access.intercept.AuthorizationFilter@51386dbb]
2025-08-28 14:04:36 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 14:04:36 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 14:04:36 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 14:04:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 14:04:36 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 1.104 seconds (process running for 345.327)
2025-08-28 14:04:36 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 14:04:43 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-28 14:04:43 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:04:43 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-08-28 14:04:43 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-08-28 14:04:43 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 87133 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:04:43 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:04:43 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:04:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 14:04:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:04:44 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:04:44 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:04:44 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:04:44 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 223 ms
2025-08-28 14:04:44 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:04:44 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:04:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-08-28 14:04:44 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@741c58b3
2025-08-28 14:04:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-08-28 14:04:44 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:04:44 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 14:04:44 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:04:44 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:04:44 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:04:44 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:04:44 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:04:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:04:44 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:04:44 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:04:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 14:04:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 14:04:44 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 14:04:44 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19b49201, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b7b8109, org.springframework.security.web.context.SecurityContextHolderFilter@722f42b2, org.springframework.security.web.header.HeaderWriterFilter@7ae409a1, org.springframework.web.filter.CorsFilter@15b575d5, org.springframework.security.web.authentication.logout.LogoutFilter@21daf126, com.bookreview.security.JwtAuthenticationFilter@230b2f64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@336d8892, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9806bd0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a1c935c, org.springframework.security.web.session.SessionManagementFilter@73a36227, org.springframework.security.web.access.ExceptionTranslationFilter@77beb940, org.springframework.security.web.access.intercept.AuthorizationFilter@5f3e39e7]
2025-08-28 14:04:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 14:04:44 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 14:04:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 14:04:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 14:04:44 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.957 seconds (process running for 353.788)
2025-08-28 14:04:44 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 14:04:48 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 34 class path changes (0 additions, 13 deletions, 21 modifications)
2025-08-28 14:04:59 [Thread-15] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 14:04:59 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:04:59 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-08-28 14:04:59 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-08-28 14:04:59 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 87133 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:04:59 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:04:59 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:04:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:04:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:04:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 2 JPA repository interfaces.
2025-08-28 14:04:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:04:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:04:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:04:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:04:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-08-28 14:04:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:04:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:04:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:04:59 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:04:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 206 ms
2025-08-28 14:05:00 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:05:00 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:05:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-08-28 14:05:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@18cbb733
2025-08-28 14:05:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-08-28 14:05:00 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:05:00 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 14:05:00 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:05:00 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:05:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:05:00 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:05:00 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:05:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:05:00 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:05:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:05:00 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookController': Resolution of declared constructors on bean Class [com.bookreview.controller.BookController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@627e72ed] failed
2025-08-28 14:05:00 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:05:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-08-28 14:05:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-08-28 14:05:00 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 14:05:00 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 14:05:00 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookController': Resolution of declared constructors on bean Class [com.bookreview.controller.BookController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@627e72ed] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1293) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347) ~[spring-boot-3.2.1.jar:3.2.1]
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.1.jar:3.2.1]
Caused by: java.lang.NoClassDefFoundError: ReviewService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.2.jar:6.1.2]
	... 21 common frames omitted
Caused by: java.lang.ClassNotFoundException: ReviewService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.2.1.jar:3.2.1]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 25 common frames omitted
2025-08-28 14:05:01 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 87133 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:05:01 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:05:01 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:05:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:05:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:05:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 2 JPA repository interfaces.
2025-08-28 14:05:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:05:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:05:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:05:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:05:01 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 14:05:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:05:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:05:01 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:05:01 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:05:01 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 195 ms
2025-08-28 14:05:01 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:05:01 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:05:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-08-28 14:05:01 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@516fd364
2025-08-28 14:05:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-08-28 14:05:01 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:05:01 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 14:05:01 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:05:01 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:05:02 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:05:02 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:05:02 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:05:02 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:05:02 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:05:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:05:02 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookController': Resolution of declared constructors on bean Class [com.bookreview.controller.BookController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@11c8d7da] failed
2025-08-28 14:05:02 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:05:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-08-28 14:05:02 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-08-28 14:05:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 14:05:02 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 14:05:02 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookController': Resolution of declared constructors on bean Class [com.bookreview.controller.BookController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@11c8d7da] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1293) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347) ~[spring-boot-3.2.1.jar:3.2.1]
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.1.jar:3.2.1]
Caused by: java.lang.NoClassDefFoundError: ReviewService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.2.jar:6.1.2]
	... 21 common frames omitted
Caused by: java.lang.ClassNotFoundException: ReviewService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.2.1.jar:3.2.1]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 25 common frames omitted
2025-08-28 14:05:05 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 87133 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:05:05 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:05:05 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:05:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 14:05:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:05:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:05:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:05:05 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:05:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 200 ms
2025-08-28 14:05:05 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:05:05 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:05:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-08-28 14:05:05 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@a36f8bd
2025-08-28 14:05:05 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-08-28 14:05:05 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:05:05 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.005s)
2025-08-28 14:05:05 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:05:05 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:05:05 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:05:05 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:05:05 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:05:05 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:05:05 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:05:05 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:05:06 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 14:05:06 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 14:05:06 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 14:05:06 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a591e34, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fef1530, org.springframework.security.web.context.SecurityContextHolderFilter@55edd6d, org.springframework.security.web.header.HeaderWriterFilter@4273419b, org.springframework.web.filter.CorsFilter@58c9a8ab, org.springframework.security.web.authentication.logout.LogoutFilter@34af65ba, com.bookreview.security.JwtAuthenticationFilter@62ebc9f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ec107d5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1efe3143, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3186f2c5, org.springframework.security.web.session.SessionManagementFilter@4bc14b2b, org.springframework.security.web.access.ExceptionTranslationFilter@78f87b06, org.springframework.security.web.access.intercept.AuthorizationFilter@1ec06379]
2025-08-28 14:05:06 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 14:05:06 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 14:05:06 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 14:05:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 14:05:06 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 0.98 seconds (process running for 375.355)
2025-08-28 14:05:06 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-28 14:05:35 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-08-28 14:05:46 [Thread-19] WARN  org.apache.tomcat.util.net.Acceptor - The acceptor thread [http-nio-8080-Acceptor] did not stop cleanly
2025-08-28 14:05:46 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:05:46 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-08-28 14:05:46 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-08-28 14:05:46 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 87133 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:05:46 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:05:46 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 JPA repository interfaces.
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:05:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-08-28 14:05:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:05:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:05:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:05:46 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:05:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 197 ms
2025-08-28 14:05:46 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:05:46 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:05:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-08-28 14:05:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection org.postgresql.jdbc.PgConnection@12d183c8
2025-08-28 14:05:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-08-28 14:05:46 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:05:46 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.006s)
2025-08-28 14:05:46 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:05:46 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:05:46 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:05:46 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:05:46 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:05:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:05:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:05:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:05:46 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookController': Resolution of declared constructors on bean Class [com.bookreview.controller.BookController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4ddef198] failed
2025-08-28 14:05:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:05:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-08-28 14:05:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-08-28 14:05:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 14:05:46 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 14:05:46 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookController': Resolution of declared constructors on bean Class [com.bookreview.controller.BookController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4ddef198] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1293) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625) ~[spring-context-6.1.2.jar:6.1.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358) ~[spring-boot-3.2.1.jar:3.2.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347) ~[spring-boot-3.2.1.jar:3.2.1]
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.1.jar:3.2.1]
Caused by: java.lang.NoClassDefFoundError: ReviewService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-6.1.2.jar:6.1.2]
	... 21 common frames omitted
Caused by: java.lang.ClassNotFoundException: ReviewService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.2.1.jar:3.2.1]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 25 common frames omitted
2025-08-28 14:06:52 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 98839 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:06:52 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:06:52 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:06:52 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 14:06:52 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:06:53 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-08-28 14:06:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:06:53 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:06:53 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:06:53 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:06:53 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 803 ms
2025-08-28 14:06:53 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:06:53 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:06:53 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 14:06:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 14:06:53 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1fae5a8d
2025-08-28 14:06:53 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 14:06:53 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 14:06:53 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 14:06:53 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 14:06:54 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:06:54 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.011s)
2025-08-28 14:06:54 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:06:54 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:06:54 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:06:54 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 14:06:54 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:06:54 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:06:54 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:06:54 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:06:54 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:06:54 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 14:06:55 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookController': Resolution of declared constructors on bean Class [com.bookreview.controller.BookController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@d057051] failed
2025-08-28 14:06:55 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:06:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 14:06:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 14:06:55 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-28 14:06:55 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-28 14:06:55 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'bookController': Resolution of declared constructors on bean Class [com.bookreview.controller.BookController] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@d057051] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:383)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1293)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:960)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:464)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1358)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1347)
	at com.bookreview.BookReviewApplication.main(BookReviewApplication.java:31)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.NoClassDefFoundError: ReviewService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3549)
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2727)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:378)
	... 21 common frames omitted
Caused by: java.lang.ClassNotFoundException: ReviewService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:534)
	at java.base/java.lang.Class.forName(Class.java:513)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 25 common frames omitted
2025-08-28 14:09:41 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 4220 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:09:41 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:09:41 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:09:41 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 14:09:41 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 14:09:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:09:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:09:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 3 JPA repository interfaces.
2025-08-28 14:09:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:09:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:09:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:09:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:09:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:09:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-08-28 14:09:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:09:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:09:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:09:42 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:09:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 824 ms
2025-08-28 14:09:42 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:09:42 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:09:42 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 14:09:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 14:09:42 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7b60a966
2025-08-28 14:09:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 14:09:42 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 14:09:42 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 14:09:42 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 14:09:42 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:09:42 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.014s)
2025-08-28 14:09:42 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:09:42 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:09:42 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:09:42 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 14:09:42 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:09:42 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:09:42 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:09:43 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:09:43 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:09:43 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 14:09:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 14:09:44 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 14:09:44 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 14:09:44 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b760361, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ad26d65, org.springframework.security.web.context.SecurityContextHolderFilter@7745a218, org.springframework.security.web.header.HeaderWriterFilter@21638b6e, org.springframework.web.filter.CorsFilter@3eb9ca4e, org.springframework.security.web.authentication.logout.LogoutFilter@45d849d0, com.bookreview.security.JwtAuthenticationFilter@7ac0021b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fc16ea6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51dfdd7c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62cc2295, org.springframework.security.web.session.SessionManagementFilter@4a22c359, org.springframework.security.web.access.ExceptionTranslationFilter@4085aaf1, org.springframework.security.web.access.intercept.AuthorizationFilter@579fad6]
2025-08-28 14:09:44 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 14:09:44 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 14:09:44 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 14:09:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 14:09:44 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.208 seconds (process running for 3.374)
2025-08-28 14:10:23 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 14:10:23 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35d876ac
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7d5da53e
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 14:10:23 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:10:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/login
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /auth/login
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /auth/login
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#login(LoginDto)
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDto{email='a@b.com', rememberMe=false}]
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=? 
        and u1_0.active=?
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [JwtResponse{type='Bearer', userId=9, name='Anupam', email='a@b.com', expiresAt=2025-08-29T14:10:35.8 (truncated)...]
2025-08-28 14:10:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=21}]
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 14:10:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 14:10:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:10:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 14:10:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 14:10:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 14:10:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 14:10:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 14:10:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:10:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=false, aiAvailable=false, message=AI recommendations are not available. Please contact admi (truncated)...]
2025-08-28 14:10:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:10:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:10:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-28 14:10:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-28 14:12:13 [restartedMain] INFO  c.bookreview.BookReviewApplication - Starting BookReviewApplication using Java 21.0.6 with PID 8533 (/Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend/target/classes started by anupamg in /Users/anupamg/Desktop/Code/Talentica/assignment-2/bookreview-backend)
2025-08-28 14:12:13 [restartedMain] DEBUG c.bookreview.BookReviewApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-08-28 14:12:13 [restartedMain] INFO  c.bookreview.BookReviewApplication - The following 1 profile is active: "dev"
2025-08-28 14:12:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-28 14:12:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.BookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.ReviewRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.bookreview.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-28 14:12:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-08-28 14:12:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-28 14:12:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-28 14:12:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-08-28 14:12:14 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-28 14:12:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 836 ms
2025-08-28 14:12:14 [restartedMain] DEBUG c.b.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-08-28 14:12:14 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-28 14:12:14 [restartedMain] ERROR i.n.r.d.DnsServerAddressStreamProviders - Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-08-28 14:12:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-28 14:12:14 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@52a9853
2025-08-28 14:12:14 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-28 14:12:14 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-08-28 14:12:14 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-08-28 14:12:14 [restartedMain] INFO  o.f.c.i.license.VersionPrinter - 
2025-08-28 14:12:14 [restartedMain] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:5433/bookreview (PostgreSQL 14.19)
2025-08-28 14:12:14 [restartedMain] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.015s)
2025-08-28 14:12:14 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 5
2025-08-28 14:12:14 [restartedMain] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-08-28 14:12:14 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-28 14:12:14 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-08-28 14:12:14 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-28 14:12:14 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-28 14:12:14 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-28 14:12:14 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-28 14:12:15 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-28 14:12:15 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-28 14:12:15 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 34 mappings in 'requestMappingHandlerMapping'
2025-08-28 14:12:15 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-28 14:12:15 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-08-28 14:12:15 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f8c2ed2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1185662f, org.springframework.security.web.context.SecurityContextHolderFilter@214c325b, org.springframework.security.web.header.HeaderWriterFilter@4c710c7b, org.springframework.web.filter.CorsFilter@7cab0415, org.springframework.security.web.authentication.logout.LogoutFilter@6be99a4f, com.bookreview.security.JwtAuthenticationFilter@528fd302, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16cc9734, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@510e67e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cd16ac6, org.springframework.security.web.session.SessionManagementFilter@45b07158, org.springframework.security.web.access.ExceptionTranslationFilter@2770e4ac, org.springframework.security.web.access.intercept.AuthorizationFilter@2f1ba2b1]
2025-08-28 14:12:16 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-28 14:12:16 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-28 14:12:16 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-28 14:12:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-28 14:12:16 [restartedMain] INFO  c.bookreview.BookReviewApplication - Started BookReviewApplication in 3.29 seconds (process running for 3.463)
2025-08-28 14:13:04 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-28 14:13:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4a8506f
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@d2cdc9d
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-28 14:13:04 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 14:13:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=21}]
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 14:13:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/ai-recommendations?limit=3
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/ai-recommendations?limit=3
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/ai-recommendations?limit=3
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/ai-recommendations?limit=3", parameters={masked}
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAIRecommendations(String, int)
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:13:05 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Based on someone who likes these books: "The Lean Startup by Eric Ries", "Steve Jobs by Walter Isaacson"

Please recommend 3 similar books that this person would enjoy. For each recommendation, provide the title and author in the format: 'Title by Author'. One book per line. Only provide the book recommendations, no additional explanations.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:13:07 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:13:07 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:13:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        upper(b1_0.title) like upper(?) escape '\' 
        or upper(b1_0.author) like upper(?) escape '\'
2025-08-28 14:13:07 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=The+Innovator%252527s+Dilemma+Clayton+M.+Christensen&limit=1&fields=cover_i,title,author_name
2025-08-28 14:13:07 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:13:08 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:13:08 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:13:08 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:13:08 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:13:08 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Someone who likes The Lean Startup by Eric Ries, Steve Jobs by Walter Isaacson might also enjoy "The Innovator's Dilemma by Clayton M. Christensen". In one short sentence, explain why this recommendation makes sense based on genre, theme, or style similarities.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        upper(b1_0.title) like upper(?) escape '\' 
        or upper(b1_0.author) like upper(?) escape '\'
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=Zero+to+One+Peter+Thiel&limit=1&fields=cover_i,title,author_name
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:13:10 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Someone who likes The Lean Startup by Eric Ries, Steve Jobs by Walter Isaacson might also enjoy "Zero to One by Peter Thiel". In one short sentence, explain why this recommendation makes sense based on genre, theme, or style similarities.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:13:11 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:13:11 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:13:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        upper(b1_0.title) like upper(?) escape '\' 
        or upper(b1_0.author) like upper(?) escape '\'
2025-08-28 14:13:11 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - HTTP GET https://openlibrary.org/search.json?q=Lean+Analytics+Alistair+Croll+and+Benjamin+Yoskovitz&limit=1&fields=cover_i,title,author_name
2025-08-28 14:13:11 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:13:12 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:13:12 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:13:12 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - HTTP POST https://api.openai.com/v1/chat/completions
2025-08-28 14:13:12 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
2025-08-28 14:13:12 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Writing [{max_tokens=150, temperature=0.7, messages=[{role=user, content=Someone who likes The Lean Startup by Eric Ries, Steve Jobs by Walter Isaacson might also enjoy "Lean Analytics by Alistair Croll and Benjamin Yoskovitz". In one short sentence, explain why this recommendation makes sense based on genre, theme, or style similarities.}], model=gpt-3.5-turbo}] as "application/json"
2025-08-28 14:13:13 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-08-28 14:13:13 [http-nio-8080-exec-4] DEBUG o.s.web.client.RestTemplate - Reading to [java.lang.String] as "application/json"
2025-08-28 14:13:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=3, refreshedAt=Thu Aug 28 14:13:13 IST 2025, aiAvailable=true, type=ai_powered, recommendatio (truncated)...]
2025-08-28 14:13:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:13:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/-1/favorite
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/-1/favorite
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/-1/favorite
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/-1/favorite", parameters={}
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=-1}]
2025-08-28 14:13:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:23:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/favorites?page=0&size=12
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/favorites?page=0&size=12
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/favorites?page=0&size=12
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/favorites?page=0&size=12", parameters={masked}
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getUserFavorites(String, int, int)
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:23:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:23:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21
2025-08-28 14:23:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:23:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/reviews?page=0&size=5
2025-08-28 14:23:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/reviews?page=0&size=5
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:23:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/reviews?page=0&size=5
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:23:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/reviews?page=0&size=5", parameters={masked}
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21", parameters={}
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:23:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=21}]
2025-08-28 14:23:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:23:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:23:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:23:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@5f65b18, com.bookreview. (truncated)...]
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:23:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@32588b81, com.bookreview.dto.ReviewDto@1f889c97], reviewCount (truncated)...]
2025-08-28 14:23:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:23:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/my-reviews?page=0&size=10
2025-08-28 14:23:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/my-reviews?page=0&size=10
2025-08-28 14:23:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/my-reviews?page=0&size=10
2025-08-28 14:23:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/my-reviews?page=0&size=10", parameters={masked}
2025-08-28 14:23:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#getMyReviews(String, int, int)
2025-08-28 14:23:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.book 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.user.id = :userId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            books b1_0 
                on b1_0.id=r1_0.book_id 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            u1_0.id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:23:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:23:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=10, last=true, totalPages=1, currentPage=0, content=[Review{id=36, rating=5, reviewTextLength= (truncated)...]
2025-08-28 14:23:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:23:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/search?query=go&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/search?query=go&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/search?query=go&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/search?query=go&page=0&size=10", parameters={masked}
2025-08-28 14:23:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#searchBooks(String, int, int)
2025-08-28 14:23:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.title) LIKE LOWER(CONCAT('%', :query, '%')) 
        OR LOWER(b.author) LIKE LOWER(CONCAT('%', :query, '%')) 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.title) like lower(('%'||?||'%')) escape '' 
            or lower(b1_0.author) like lower(('%'||?||'%')) escape '' 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:23:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:23:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:23:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:23:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/search?query=gon&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/search?query=gon&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/search?query=gon&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/search?query=gon&page=0&size=10", parameters={masked}
2025-08-28 14:23:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#searchBooks(String, int, int)
2025-08-28 14:23:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.title) LIKE LOWER(CONCAT('%', :query, '%')) 
        OR LOWER(b.author) LIKE LOWER(CONCAT('%', :query, '%')) 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.title) like lower(('%'||?||'%')) escape '' 
            or lower(b1_0.author) like lower(('%'||?||'%')) escape '' 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:23:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:23:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:23:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:23:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/search?query=gone&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/search?query=gone&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/search?query=gone&page=0&size=10
2025-08-28 14:23:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/search?query=gone&page=0&size=10", parameters={masked}
2025-08-28 14:23:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#searchBooks(String, int, int)
2025-08-28 14:23:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.title) LIKE LOWER(CONCAT('%', :query, '%')) 
        OR LOWER(b.author) LIKE LOWER(CONCAT('%', :query, '%')) 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.title) like lower(('%'||?||'%')) escape '' 
            or lower(b1_0.author) like lower(('%'||?||'%')) escape '' 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:23:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:23:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:23:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books?page=0&size=20&sort=createdAt&direction=desc", parameters={masked}
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAllBooks(int, int, String, String)
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    order by
        b1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(b1_0.id) 
    from
        books b1_0
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/17/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/15/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/13/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/14/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/12/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/11/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/10/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/9/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/7/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/5/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/17/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/17/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/17/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=17}]
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/15/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/12/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/13/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/15/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/12/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/15/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/12/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/13/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/13/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/14/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/10/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/9/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/14/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/14/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/10/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/9/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/10/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=15}]
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/9/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=12}]
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/11/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/11/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=13}]
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/11/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/7/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=9}]
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=10}]
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=14}]
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/7/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/7/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/5/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/5/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/5/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=11}]
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=7}]
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 14:24:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=5}]
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 14:24:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 14:24:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 14:24:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:24:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:24:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:28:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/search?query=gi&page=0&size=10
2025-08-28 14:28:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/search?query=gi&page=0&size=10
2025-08-28 14:28:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/search?query=gi&page=0&size=10
2025-08-28 14:28:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/search?query=gi&page=0&size=10", parameters={masked}
2025-08-28 14:28:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#searchBooks(String, int, int)
2025-08-28 14:28:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.title) LIKE LOWER(CONCAT('%', :query, '%')) 
        OR LOWER(b.author) LIKE LOWER(CONCAT('%', :query, '%')) 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.title) like lower(('%'||?||'%')) escape '' 
            or lower(b1_0.author) like lower(('%'||?||'%')) escape '' 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:28:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:28:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:28:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:28:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/search?query=gir&page=0&size=10
2025-08-28 14:28:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/search?query=gir&page=0&size=10
2025-08-28 14:28:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/search?query=gir&page=0&size=10
2025-08-28 14:28:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/search?query=gir&page=0&size=10", parameters={masked}
2025-08-28 14:28:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#searchBooks(String, int, int)
2025-08-28 14:28:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.title) LIKE LOWER(CONCAT('%', :query, '%')) 
        OR LOWER(b.author) LIKE LOWER(CONCAT('%', :query, '%')) 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.title) like lower(('%'||?||'%')) escape '' 
            or lower(b1_0.author) like lower(('%'||?||'%')) escape '' 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:28:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:28:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:28:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:28:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/search?query=girl&page=0&size=10
2025-08-28 14:28:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/search?query=girl&page=0&size=10
2025-08-28 14:28:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/search?query=girl&page=0&size=10
2025-08-28 14:28:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/search?query=girl&page=0&size=10", parameters={masked}
2025-08-28 14:28:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#searchBooks(String, int, int)
2025-08-28 14:28:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.title) LIKE LOWER(CONCAT('%', :query, '%')) 
        OR LOWER(b.author) LIKE LOWER(CONCAT('%', :query, '%')) 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.title) like lower(('%'||?||'%')) escape '' 
            or lower(b1_0.author) like lower(('%'||?||'%')) escape '' 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:28:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:28:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:28:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/favorites?page=0&size=12
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/favorites?page=0&size=12
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/favorites?page=0&size=12
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/favorites?page=0&size=12", parameters={masked}
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getUserFavorites(String, int, int)
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=21}]
2025-08-28 14:29:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/search?query=l&page=0&size=20
2025-08-28 14:29:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/search?query=l&page=0&size=20
2025-08-28 14:29:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/search?query=l&page=0&size=20
2025-08-28 14:29:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/search?query=l&page=0&size=20", parameters={masked}
2025-08-28 14:29:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#searchBooks(String, int, int)
2025-08-28 14:29:18 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.title) LIKE LOWER(CONCAT('%', :query, '%')) 
        OR LOWER(b.author) LIKE LOWER(CONCAT('%', :query, '%')) 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.title) like lower(('%'||?||'%')) escape '' 
            or lower(b1_0.author) like lower(('%'||?||'%')) escape '' 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/search?query=lo&page=0&size=20
2025-08-28 14:29:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/search?query=lo&page=0&size=20
2025-08-28 14:29:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/search?query=lo&page=0&size=20
2025-08-28 14:29:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/search?query=lo&page=0&size=20", parameters={masked}
2025-08-28 14:29:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#searchBooks(String, int, int)
2025-08-28 14:29:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.title) LIKE LOWER(CONCAT('%', :query, '%')) 
        OR LOWER(b.author) LIKE LOWER(CONCAT('%', :query, '%')) 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.title) like lower(('%'||?||'%')) escape '' 
            or lower(b1_0.author) like lower(('%'||?||'%')) escape '' 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/5/favorite
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /books/5/favorite
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /books/5/favorite
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/books/5/favorite", parameters={}
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#addToFavorites(Long, String)
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* insert for
        com.bookreview.entity.User.favoriteBooks */insert 
    into
        user_favorites (user_id, book_id) 
    values
        (?, ?)
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Book added to favorites, bookId=5}]
2025-08-28 14:29:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/5/favorite
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/5/favorite
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/5/favorite", parameters={}
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=5}]
2025-08-28 14:29:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 14:29:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 14:29:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=21}]
2025-08-28 14:29:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 14:29:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 14:29:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/favorites?page=0&size=12
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/favorites?page=0&size=12
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/favorites?page=0&size=12
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/favorites?page=0&size=12", parameters={masked}
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getUserFavorites(String, int, int)
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /books/21/favorite
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /books/21/favorite
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/books/21/favorite", parameters={}
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#removeFromFavorites(Long, String)
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fbu1_0.book_id,
        fbu1_1.id,
        fbu1_1.active,
        fbu1_1.avatar_url,
        fbu1_1.bio,
        fbu1_1.created_at,
        fbu1_1.email,
        fbu1_1.email_verified,
        fbu1_1.name,
        fbu1_1.password_hash,
        fbu1_1.updated_at 
    from
        user_favorites fbu1_0 
    join
        users fbu1_1 
            on fbu1_1.id=fbu1_0.user_id 
    where
        fbu1_0.book_id=?
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* delete for com.bookreview.entity.User.favoriteBooks */delete 
    from
        user_favorites 
    where
        user_id=? 
        and book_id=?
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Book removed from favorites, bookId=21}]
2025-08-28 14:29:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/favorites?page=0&size=12
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/favorites?page=0&size=12
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/favorites?page=0&size=12
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/favorites?page=0&size=12", parameters={masked}
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getUserFavorites(String, int, int)
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 14:29:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 14:29:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 14:29:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 14:29:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:29:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:30:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations/21/feedback
2025-08-28 14:30:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /books/recommendations/21/feedback
2025-08-28 14:30:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /books/recommendations/21/feedback
2025-08-28 14:30:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/books/recommendations/21/feedback", parameters={}
2025-08-28 14:30:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#submitRecommendationFeedback(Long, String, Map)
2025-08-28 14:30:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{type=like}]
2025-08-28 14:30:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:30:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, recommendationId=21, message=Feedback received, feedbackType=like, userId=9}]
2025-08-28 14:30:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 14:37:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 14:37:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 14:37:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 14:37:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 14:37:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 14:53:39 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s857ms).
2025-08-28 15:09:34 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s867ms).
2025-08-28 15:25:29 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s868ms).
2025-08-28 15:31:42 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m43s646ms).
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books?page=0&size=20&sort=createdAt&direction=desc", parameters={masked}
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAllBooks(int, int, String, String)
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    order by
        b1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(b1_0.id) 
    from
        books b1_0
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/17/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/14/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/15/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/13/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/11/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/12/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/10/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/9/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/7/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/5/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/17/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/17/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/17/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=17}]
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/14/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/15/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/14/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/14/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/11/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/12/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/15/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/15/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/12/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/11/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/12/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/11/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=12}]
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=11}]
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=14}]
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/10/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/9/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/13/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/9/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/9/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/13/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=15}]
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/13/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/10/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/10/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/7/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/7/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/7/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=13}]
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=10}]
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=9}]
2025-08-28 16:09:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 16:09:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/5/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=7}]
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/5/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/5/favorite", parameters={}
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 16:09:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=5}]
2025-08-28 16:09:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:04 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 16:09:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 16:09:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 16:09:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 16:09:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 16:09:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 17:18:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 17:18:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 17:18:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 17:18:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 17:18:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 17:18:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 17:18:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 17:18:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 17:18:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 17:18:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 17:18:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 17:18:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 17:18:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 17:18:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 17:18:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 17:18:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 17:18:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 17:18:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 17:18:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 17:18:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 17:34:38 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s874ms).
2025-08-28 17:50:33 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s848ms).
2025-08-28 18:06:28 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s815ms).
2025-08-28 18:22:37 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m38s957ms).
2025-08-28 18:27:03 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m26s756ms).
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /auth/validate
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /auth/validate
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /auth/validate
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/validate", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.AuthController#validateToken(String)
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{valid=true, name=Anupam, userId=9, email=a@b.com}]
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 20:22:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 20:22:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 20:22:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 20:22:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 20:22:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 20:22:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 20:37:59 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s873ms).
2025-08-28 20:54:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s871ms).
2025-08-28 21:10:19 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s883ms).
2025-08-28 21:26:14 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s860ms).
2025-08-28 21:42:39 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s878ms).
2025-08-28 21:58:33 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s870ms).
2025-08-28 22:08:54 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m50s314ms).
2025-08-28 22:23:20 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m26s70ms).
2025-08-28 22:39:38 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m48s57ms).
2025-08-28 22:55:33 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s886ms).
2025-08-28 23:11:58 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s891ms).
2025-08-28 23:24:30 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m31s873ms).
2025-08-28 23:40:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s892ms).
2025-08-28 23:50:30 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10m5s773ms).
2025-08-28 23:51:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/favorites?page=0&size=12
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/favorites?page=0&size=12
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/favorites?page=0&size=12
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/favorites?page=0&size=12", parameters={masked}
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getUserFavorites(String, int, int)
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 23:51:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/21/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recommendations?limit=3
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/19/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/1/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/16/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/6/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/8/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/20/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/top-rated?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/18/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/22/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/popular?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/recent?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/19/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/21/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recommendations?limit=3
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/19/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/19/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/21/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recommendations?limit=3
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recommendations?limit=3", parameters={masked}
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/21/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecommendations(String, int)
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/16/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/1/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/16/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/1/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/16/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/1/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=19}]
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/20/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=16}]
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/20/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/20/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/6/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/6/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/6/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=21}]
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=4}]
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=1}]
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/top-rated?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=20}]
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/8/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/top-rated?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/18/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/8/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/8/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/top-rated?limit=4", parameters={masked}
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getTopRatedBooks(int)
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/18/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/18/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/22/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/22/favorite
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/22/favorite", parameters={}
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=6}]
2025-08-28 23:51:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/popular?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/popular?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/popular?limit=4", parameters={masked}
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=22}]
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=18}]
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getPopularBooks(int)
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=8}]
2025-08-28 23:51:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/recent?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 
    ORDER BY
        b.averageRating DESC,
        b.reviewCount DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1 
        order by
            b1_0.average_rating desc,
            b1_0.review_count desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount 
    ORDER BY
        b.reviewCount DESC,
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.review_count>=? 
        order by
            b1_0.review_count desc,
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/recent?limit=4
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/recent?limit=4", parameters={masked}
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getRecentBooks(int)
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    ORDER BY
        b.createdAt DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        order by
            b1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.reviewCount >= :minReviewCount */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.review_count>=?
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        b.averageRating >= :minRating 
        AND b.reviewCount >= 1 */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            b1_0.average_rating>=? 
            and b1_0.review_count>=1
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b */ select
            count(b1_0.id) 
        from
            books b1_0
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 23:51:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        b.id != :bookId 
        AND (
            b.author = :author 
            OR LOWER(b.genres) LIKE LOWER(CONCAT('%', :genres, '%'))
        ) 
    ORDER BY
        b.averageRating DESC */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            b1_0.id<>? 
            and (
                b1_0.author=? 
                or lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
            ) 
        order by
            b1_0.average_rating desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        b 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            b1_0.id,
            b1_0.author,
            b1_0.average_rating,
            b1_0.cover_image_url,
            b1_0.created_at,
            b1_0.description,
            b1_0.genres,
            b1_0.published_year,
            b1_0.review_count,
            b1_0.title,
            b1_0.updated_at 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape '' 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        count(b) 
    FROM
        Book b 
    WHERE
        LOWER(b.genres) LIKE LOWER(CONCAT('%', :genre, '%')) */ select
            count(b1_0.id) 
        from
            books b1_0 
        where
            lower(b1_0.genres) like lower(('%'||?||'%')) escape ''
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 23:51:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books?page=0&size=20&sort=createdAt&direction=desc
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books?page=0&size=20&sort=createdAt&direction=desc", parameters={masked}
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getAllBooks(int, int, String, String)
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    order by
        b1_0.created_at desc 
    offset
        ? rows 
    fetch
        first ? rows only
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(b1_0.id) 
    from
        books b1_0
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.boo (truncated)...]
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/17/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/14/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/15/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/12/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/13/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/11/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/10/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/9/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/17/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/7/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/5/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/17/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/3/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/17/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/14/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/15/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/14/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/14/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/12/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/15/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/15/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/12/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/12/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/11/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/13/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/11/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/11/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/13/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/13/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=17}]
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=15}]
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=14}]
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=12}]
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=11}]
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/10/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/10/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/10/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/7/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/9/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/5/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/3/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/5/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/3/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/3/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/5/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/7/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/7/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/9/favorite
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/9/favorite", parameters={}
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#isFavorited(Long, String)
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fb1_0.user_id,
        fb1_1.id,
        fb1_1.author,
        fb1_1.average_rating,
        fb1_1.cover_image_url,
        fb1_1.created_at,
        fb1_1.description,
        fb1_1.genres,
        fb1_1.published_year,
        fb1_1.review_count,
        fb1_1.title,
        fb1_1.updated_at 
    from
        user_favorites fb1_0 
    join
        books fb1_1 
            on fb1_1.id=fb1_0.book_id 
    where
        fb1_0.user_id=?
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=13}]
2025-08-28 23:52:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=10}]
2025-08-28 23:52:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=9}]
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=true, bookId=5}]
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=7}]
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{favorited=false, bookId=3}]
2025-08-28 23:52:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:52:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:53:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4
2025-08-28 23:53:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /books/4/reviews?page=0&size=5
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4
2025-08-28 23:53:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /books/4/reviews?page=0&size=5
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4
2025-08-28 23:53:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /books/4/reviews?page=0&size=5
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4", parameters={}
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookById(Long)
2025-08-28 23:53:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/books/4/reviews?page=0&size=5", parameters={masked}
2025-08-28 23:53:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.bookreview.controller.BookController#getBookReviews(Long, int, int)
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.author,
        b1_0.average_rating,
        b1_0.cover_image_url,
        b1_0.created_at,
        b1_0.description,
        b1_0.genres,
        b1_0.published_year,
        b1_0.review_count,
        b1_0.title,
        b1_0.updated_at 
    from
        books b1_0 
    where
        b1_0.id=?
2025-08-28 23:53:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* SELECT
        r 
    FROM
        Review r 
    JOIN
        
    FETCH
        r.user 
    WHERE
        r.book.id = :bookId 
    ORDER BY
        r.createdAt DESC */ select
            r1_0.id,
            r1_0.book_id,
            r1_0.created_at,
            r1_0.rating,
            r1_0.review_text,
            r1_0.updated_at,
            r1_0.user_id,
            u1_0.id,
            u1_0.active,
            u1_0.avatar_url,
            u1_0.bio,
            u1_0.created_at,
            u1_0.email,
            u1_0.email_verified,
            u1_0.name,
            u1_0.password_hash,
            u1_0.updated_at 
        from
            reviews r1_0 
        join
            users u1_0 
                on u1_0.id=r1_0.user_id 
        where
            r1_0.book_id=? 
        order by
            r1_0.created_at desc 
        offset
            ? rows 
        fetch
            first ? rows only
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        r1_0.book_id,
        r1_0.id,
        r1_0.created_at,
        r1_0.rating,
        r1_0.review_text,
        r1_0.updated_at,
        r1_0.user_id 
    from
        reviews r1_0 
    where
        r1_0.book_id=?
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.active,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.created_at,
        u1_0.email,
        u1_0.email_verified,
        u1_0.name,
        u1_0.password_hash,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.id=?
2025-08-28 23:53:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:53:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{size=5, totalPages=1, currentPage=0, content=[com.bookreview.dto.ReviewDto@2cca5ef1, com.bookreview (truncated)...]
2025-08-28 23:53:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{reviews=[com.bookreview.dto.ReviewDto@7b9d0dd7, com.bookreview.dto.ReviewDto@132de0ce], reviewCount (truncated)...]
2025-08-28 23:53:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
